Getting files for app H2LnOaVy-ncwpzaor in org H2LnOaVy / space DTC_challenge as CRAFTuser@H2LnOaVy...
OK

[{"type":"tab","id":"cf4dd1eb.7716a","label":"aaaa"},{"type":"tab","id":"b04a1563.020548","label":"Sheet 1"},{"type":"tab","id":"c47877ed.3b2c88","label":"Other Sample"},{"type":"tab","id":"19037e02.c3c6a2","label":"K5 Iot Sample1"},{"type":"tab","id":"3bb9a22.a79b65e","label":"Postgres API"},{"type":"tab","id":"2bf7fb7a.29c804","label":"Sensor Manage Sample"},{"id":"5fbac071.4b08d","type":"websocket-listener","path":"/ws/sensor1","wholemsg":"false"},{"id":"11917135.5de19f","type":"mqtt-broker","broker":"api.trial2.iot.jp.fujitsu.com","port":"1883","clientid":""},{"id":"a7949bb6.944e38","type":"websocket-listener","path":"/ws/sensor2","wholemsg":"false"},{"id":"8fdc7071.ca817","type":"websocket-listener","path":"/ws/sensor","wholemsg":"false"},{"id":"437ce790.863708","type":"websocket-listener","path":"/ws/sensor3","wholemsg":"false"},{"id":"f45a52fa.a21f","type":"websocket-listener","path":"/ws/sensor4","wholemsg":"false"},{"id":"435211f1.bcadf","type":"websocket-listener","path":"/ws/rtchart","wholemsg":"false"},{"id":"a7aa3c6e.2da45","type":"ui_tab","name":"Temperature Status","icon":"dashboard","order":"1"},{"id":"85520cfd.6c5a3","type":"ui_tab","name":"Temperature Chart Graph 1 Hour","icon":"dashboard","order":"1"},{"id":"aecdcf58.fb5c9","type":"ui_tab","name":"Humidity Status","icon":"dashboard","order":"1"},{"id":"9614aa63.ea9888","type":"ui_tab","name":"Humidity Chart Graph 1 Hour","icon":"dashboard","order":"1"},{"id":"a26c4963.778498","type":"ui_tab","name":"Humidity Chart Graph 12 Hours","icon":"dashboard","order":"1"},{"id":"b2251b3a.e88bc8","type":"ui_tab","name":"Humidity Chart Graph 1 Week","icon":"dashboard","order":"1"},{"id":"a09df126.e15a5","type":"ui_tab","name":"Temperature Chart Graph 12 Hours","icon":"dashboard","order":"1"},{"id":"3d5dc16c.f5300e","type":"ui_tab","name":"Temperature Chart Graph 1 Week","icon":"dashboard","order":"1"},{"id":"1cdc5509.3fb37b","type":"sqldbsdatabase","host":"ArFMyqjbImh-uJQyrqLgDc4CMHlxlGR-pT5l-284NIxXNiiOx-4290000.database-jp-east-1.internal.cloud.global.fujitsu.com","port":"26500","db":"clqa9mwl","dialect":"postgres"},{"id":"54192100.1d709","type":"websocket-listener","path":"/ws/sensor5","wholemsg":"false"},{"id":"5945612.f2a34a","type":"websocket-listener","path":"/ws/sensor6","wholemsg":"false"},{"id":"13fa2ec7.0e6081","type":"websocket-listener","path":"/ws/sensor7","wholemsg":"false"},{"id":"7bf18ae5.ceac64","type":"websocket-listener","path":"/ws/sensor8","wholemsg":"false"},{"id":"b88098e5.2edd18","type":"postgresdb","hostname":"ArFMyqjbImh-uJQyrqLgDc4CMHlxlGR-pT5l-284NIxXNiiOx-4290000.database-jp-east-1.internal.cloud.global.fujitsu.com","port":"26500","db":"clqa9mwl","ssl":false},{"id":"168f2030.e970e","type":"postgresdb","hostname":"localhost","port":"5432","db":"postgres"},{"id":"735aba0d.4d1c04","type":"mqtt-broker","broker":"test.mosquitto.org","port":"1883","clientid":""},{"id":"bf6e252b.63b8c8","type":"ui_tab","name":"DTC Demo","icon":"dashboard","order":"1"},{"id":"b1ea7149.e9802","type":"inject","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":117,"y":85,"z":"b04a1563.020548","wires":[["f87a6f65.fdb7f"]]},{"id":"f87a6f65.fdb7f","type":"debug","name":"","active":false,"console":"false","complete":"false","x":525,"y":81,"z":"b04a1563.020548","wires":[]},{"id":"1fc2e277.d209be","type":"http in","name":"","url":"/Tabulator","method":"get","x":208,"y":122,"z":"c47877ed.3b2c88","wires":[["2eb7b26f.2f296e"]]},{"id":"2eb7b26f.2f296e","type":"template","name":"Script","field":"payload","template":"<!DOCTYPE html>\n<html lang = \"ja\">\n<head>\n\t<meta charset = \"utf-8\">\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/css/style2.css\">\n\t<link href=\"https://cdnjs.cloudflare.com/ajax/libs/tabulator/2.11.0/tabulator.min.css\" rel=\"stylesheet\">\n\t<script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-3.2.1.min.js\" integrity=\"sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=\" crossorigin=\"anonymous\"></script>\n\t<script type=\"text/javascript\" src=\"https://code.jquery.com/ui/1.12.1/jquery-ui.min.js\" integrity=\"sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=\" crossorigin=\"anonymous\"></script> \n\t<script type=\"text/javascript\" src=\"https://d3js.org/d3.v4.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/tabulator/2.11.0/tabulator.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery.fancytree/2.23.0/jquery.fancytree-all.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore-min.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment-with-locales.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.13/moment-timezone-with-data.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/script/kousin.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/script/date-time-week.js\"></script>\n\n<!--\n\t<script type=\"text/javascript\" src=\"http://localhost:81/javascripts/jquery.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"http://localhost:81/javascripts/d3.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"http://localhost:81/javascripts/jquery-ui.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"http://localhost:81/javascripts/jquery.radios-to-slider.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"http://localhost:81/javascripts/tabulator.js\"></script>\n\t<script type=\"text/javascript\" src=\"http://localhost:81/javascripts/jquery.fancytree-all.js\"></script>\n\t<script type=\"text/javascript\" src=\"http://localhost:81/javascripts/tauCharts.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"http://localhost:81/javascripts/underscore-min.js\"></script>\n\t<script type=\"text/javascript\" src=\"http://localhost:81/javascripts/moment-with-locales.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"http://localhost:81/javascripts/moment-timezone-with-data.js\"></script>\n\t<link href=\"http://localhost:81/stylesheets/themes/semantic-ui/tabulator_semantic-ui.css\" rel=\"stylesheet\">\n\t<script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/tauCharts/1.2.1/tauCharts.min.js\"></script>\n\t<link href=\"https://cdnjs.cloudflare.com/ajax/libs/tauCharts/1.2.1/tauCharts.min.css\" rel=\"stylesheet\">\n\t<script type=\"text/javascript\" src=\"http://localhost:81/javascripts/kousin.js\"></script>\n\t<script type=\"text/javascript\" src=\"http://localhost:81/javascripts/date-time-week.js\"></script>\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"http://localhost:81/stylesheets/style.css\">\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"http://localhost:81/stylesheets/style_20170523.css\">\n-->\n\n</head>\n\n<p><span style = 'color:blue; font-size:140%; font-weight:bold;'>-----< Tabulator を使用して表を作成 >-----</span></p>\n<br>\n\n<p><span style = 'color:red; font-size:120%; font-weight:bold;'>環境センサー稼働状況一覧</span></p>\n<input type=\"button\" value=\"更新\" onclick=\"location.reload();\" /> \n\n<br>\n<div id=\"example-table\"></div>\n<br/>\n\n<p><span style = 'color:red; font-size:120%; font-weight:bold;'>ラック扉開閉状況一覧</span></p>\n<input type=\"button\" value=\"更新\" onclick=\"location.reload();\" /> \n\n<br>\n<div id=\"door-table\"></div>\n<br/>\n\n<script>\n\nkoshin();\ndatetimeweek();\n\n//trigger download of data.csv file\n$(\"#download-csv\").click(function(){\n\t$(\"#example-table\").tabulator(\"download\", \"csv\", \"data.csv\");\n});\n\n//trigger download of data.json file\n$(\"#download-json\").click(function(){\n\t$(\"#example-table\").tabulator(\"download\", \"json\", \"data.json\");\n});\n\n$(\"#example-table\").tabulator({\n\theight:\"640px\",\n\tdateFormat:\"yyyy/mm/dd\",\n\tfitColumns:true,\n//\tpagination:true,\n//\ttooltips:true,\n\tmovableRows:true,\n\tcolumns:[\n\t\t{title:\"Sensor Name\", field:\"name\", sortable:true, width:200, align:\"center\"},\n\t\t{title:\"Status\", field:\"doacheck\", sorter:\"boolean\", sortable:true, align:\"center\", formatter:\"tickCross\", width:100},\n\t\t{title:\"Place\", field:\"place\", sortable:true, sorter:\"number\", width:200, align:\"center\"},\n\t\t{title:\"Date\", field:\"date\", sortable:true, sorter:\"date\", width:150, align:\"center\"},\n\t\t{title:\"Time\", field:\"time\", sortable:false, width:150, align:\"center\"},\n\t\t{title:\"Ambient Temperature\", field:\"temp\", sortable:true, sorter:\"number\", align:\"center\", width:100},\n\t\t{title:\"Object Temperature\", field:\"objectTemp\", sortable:true, sorter:\"number\", align:\"center\", width:100},\n\t\t{title:\"Humidity\", field:\"humidity\", sortable:true, sorter:\"number\", align:\"center\", width:100},\n\t\t{title:\"Barometer\", field:\"barometer\", sortable:true, sorter:\"number\", align:\"center\", width:100},\n\t\t{title:\"lux\", field:\"lux\", sortable:true, sorter:\"number\", align:\"center\", width:100},\n\t\t{title:\"Note\", field:\"note\", sortable:false, width:300, align:\"left\", editable:true},\n\t],\n});\n\n$(\"#example-table\").tabulator(\"setData\", \"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/data/data15.json\");\n\n\n$(\"#door-table\").tabulator({\n\theight:\"320px\",\n\tdateFormat:\"yyyy/mm/dd\",\n\tfitColumns:true,\n//\tpagination:true,\n//\ttooltips:true,\n\tmovableRows:true,\n\tcolumns:[\n\t\t{title:\"Rack Name\", field:\"place\", sortable:true, sorter:\"number\", width:200, align:\"center\"},\n\t\t{title:\"Door Status\", field:\"door_open\", sorter:\"boolean\", sortable:true, align:\"center\", formatter:\"tickCross\", width:150},\n\t\t{title:\"Date\", field:\"date\", sortable:true, sorter:\"date\", width:150, align:\"center\"},\n\t\t{title:\"Time\", field:\"time\", sortable:false, width:150, align:\"center\"},\n\t\t{title:\"Note\", field:\"note\", sortable:false, width:300, align:\"left\", editable:true},\n\t],\n});\n\n$(\"#door-table\").tabulator(\"setData\", \"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/data/data16.json\");\n\n\n\n\n</script>\n\n</body>\n</html>","x":400,"y":122,"z":"c47877ed.3b2c88","wires":[["fa0ea26c.bc45d"]]},{"id":"fa0ea26c.bc45d","type":"http response","name":"","x":631,"y":122,"z":"c47877ed.3b2c88","wires":[]},{"id":"aaedc247.2da49","type":"inject","name":"","topic":"","payload":"","payloadType":"none","repeat":"","crontab":"","once":false,"x":99,"y":65,"z":"19037e02.c3c6a2","wires":[["125a48cc.c00a07","390beaab.47b346","9e8decf3.7e12e","42e17054.9fba6","934a6389.acdf7","4edeb525.a94a4c","9363ac16.05d35","ff215c52.638","e684e483.50ee58","7709412b.4aabf"]]},{"id":"125a48cc.c00a07","type":"function","name":"Create dummy rundom data for Sensor1","func":"var getTimestamp = function () {\n    var date = new Date();\n    date.setHours(date.getHours() + 9);\n    var dt = date.getFullYear() + '-';\n    dt += (\"0\"+(date.getMonth()+1)).slice(-2) + '-';\n    dt += (\"0\"+date.getDate()).slice(-2) + 'T';\n    dt += (\"0\"+date.getHours()).slice(-2) + ':';\n    dt += (\"0\"+date.getMinutes()).slice(-2) + ':';\n    dt += (\"0\"+date.getSeconds()).slice(-2) + '+09:00';\n    return dt;\n}\n\nvar getTimestampD = function () {\nvar date = new Date();\ndate.setHours(date.getHours() + 9);\n\nvar ts = date.getFullYear() + '-';\nts += (\"0\"+(date.getMonth()+1)).slice(-2) + '-';\nts += (\"0\"+date.getDate()).slice(-2);\n\nreturn ts;\n};\n\nvar getTimestampT = function () {\nvar hour = new Date();\nhour.setHours(hour.getHours() +9);\n\nvar hr = (\"0\"+hour.getHours()).slice(-2) + ':';\nhr += (\"0\"+hour.getMinutes()).slice(-2) + ':';\nhr += (\"0\"+hour.getSeconds()).slice(-2);\n\nreturn hr;\n};\n\n// Object of SensorName\nvar name1 = \"Sensor1\";\n\n// Object of place\nvar location1 = \"ServerRack1\"\n\n\nmsg.payload={\n    \"sensorname\": name1,\n//    \"location\": location1,\n    \"date\": getTimestampD(),\n    \"time\": getTimestampT(),\n    \"timestamp\": getTimestamp(),\n    \"temperature\": Math.floor((Math.random() * 9 + 20)*100)/100 ,\n    \"humidity\": Math.floor(( Math.random() * 15 + 40)*100)/100\n};\nreturn msg;","outputs":1,"x":378,"y":66,"z":"19037e02.c3c6a2","wires":[["a6c8e1cf.6fed1"]]},{"id":"390beaab.47b346","type":"function","name":"Create dummy rundom data for Sensor2","func":"var getTimestamp = function () {\n    var date = new Date();\n    date.setHours(date.getHours() + 9);\n    var dt = date.getFullYear() + '-';\n    dt += (\"0\"+(date.getMonth()+1)).slice(-2) + '-';\n    dt += (\"0\"+date.getDate()).slice(-2) + 'T';\n    dt += (\"0\"+date.getHours()).slice(-2) + ':';\n    dt += (\"0\"+date.getMinutes()).slice(-2) + ':';\n    dt += (\"0\"+date.getSeconds()).slice(-2) + '+09:00';\n    return dt;\n}\n\nvar getTimestampD = function () {\nvar date = new Date();\ndate.setHours(date.getHours() + 9);\n\nvar ts = date.getFullYear() + '-';\nts += (\"0\"+(date.getMonth()+1)).slice(-2) + '-';\nts += (\"0\"+date.getDate()).slice(-2);\n\nreturn ts;\n};\n\nvar getTimestampT = function () {\nvar hour = new Date();\nhour.setHours(hour.getHours() +9);\n\nvar hr = (\"0\"+hour.getHours()).slice(-2) + ':';\nhr += (\"0\"+hour.getMinutes()).slice(-2) + ':';\nhr += (\"0\"+hour.getSeconds()).slice(-2);\n\nreturn hr;\n};\n\n// Object of SensorName\nvar name1 = \"Sensor2\";\n\n// Object of place\nvar location1 = \"ServerRack2\"\n\n\nmsg.payload={\n    \"sensorname\": name1,\n//    \"location\": location1,\n    \"date\": getTimestampD(),\n    \"time\": getTimestampT(),\n    \"timestamp\": getTimestamp(),\n    \"temperature\": Math.floor((Math.random() * 9 + 20)*100)/100 ,\n    \"humidity\": Math.floor(( Math.random() * 15 + 40)*100)/100\n};\nreturn msg;","outputs":1,"x":378,"y":102,"z":"19037e02.c3c6a2","wires":[["52e0e70b.9b5a08"]]},{"id":"9e8decf3.7e12e","type":"function","name":"Create dummy rundom data for Sensor3","func":"var getTimestamp = function () {\n    var date = new Date();\n    date.setHours(date.getHours() + 9);\n    var dt = date.getFullYear() + '-';\n    dt += (\"0\"+(date.getMonth()+1)).slice(-2) + '-';\n    dt += (\"0\"+date.getDate()).slice(-2) + 'T';\n    dt += (\"0\"+date.getHours()).slice(-2) + ':';\n    dt += (\"0\"+date.getMinutes()).slice(-2) + ':';\n    dt += (\"0\"+date.getSeconds()).slice(-2) + '+09:00';\n    return dt;\n}\n\nvar getTimestampD = function () {\nvar date = new Date();\ndate.setHours(date.getHours() + 9);\n\nvar ts = date.getFullYear() + '-';\nts += (\"0\"+(date.getMonth()+1)).slice(-2) + '-';\nts += (\"0\"+date.getDate()).slice(-2);\n\nreturn ts;\n};\n\nvar getTimestampT = function () {\nvar hour = new Date();\nhour.setHours(hour.getHours() +9);\n\nvar hr = (\"0\"+hour.getHours()).slice(-2) + ':';\nhr += (\"0\"+hour.getMinutes()).slice(-2) + ':';\nhr += (\"0\"+hour.getSeconds()).slice(-2);\n\nreturn hr;\n};\n\n// Object of SensorName\nvar name1 = \"Sensor3\";\n\n// Object of place\nvar location1 = \"ServerRack3\"\n\n\nmsg.payload={\n    \"sensorname\": name1,\n//    \"location\": location1,\n    \"date\": getTimestampD(),\n    \"time\": getTimestampT(),\n    \"timestamp\": getTimestamp(),\n    \"temperature\": Math.floor((Math.random() * 9 + 20)*100)/100 ,\n    \"humidity\": Math.floor(( Math.random() * 15 + 40)*100)/100\n};\nreturn msg;","outputs":1,"x":378.75,"y":138,"z":"19037e02.c3c6a2","wires":[["ef936a7a.8bf288"]]},{"id":"42e17054.9fba6","type":"function","name":"Create dummy rundom data for Sensor4","func":"var getTimestamp = function () {\n    var date = new Date();\n    date.setHours(date.getHours() + 9);\n    var dt = date.getFullYear() + '-';\n    dt += (\"0\"+(date.getMonth()+1)).slice(-2) + '-';\n    dt += (\"0\"+date.getDate()).slice(-2) + 'T';\n    dt += (\"0\"+date.getHours()).slice(-2) + ':';\n    dt += (\"0\"+date.getMinutes()).slice(-2) + ':';\n    dt += (\"0\"+date.getSeconds()).slice(-2) + '+09:00';\n    return dt;\n}\n\nvar getTimestampD = function () {\nvar date = new Date();\ndate.setHours(date.getHours() + 9);\n\nvar ts = date.getFullYear() + '-';\nts += (\"0\"+(date.getMonth()+1)).slice(-2) + '-';\nts += (\"0\"+date.getDate()).slice(-2);\n\nreturn ts;\n};\n\nvar getTimestampT = function () {\nvar hour = new Date();\nhour.setHours(hour.getHours() +9);\n\nvar hr = (\"0\"+hour.getHours()).slice(-2) + ':';\nhr += (\"0\"+hour.getMinutes()).slice(-2) + ':';\nhr += (\"0\"+hour.getSeconds()).slice(-2);\n\nreturn hr;\n};\n\n// Object of SensorName\nvar name1 = \"Sensor4\";\n\n// Object of place\nvar location1 = \"ServerRack4\"\n\n\nmsg.payload={\n    \"sensorname\": name1,\n//    \"location\": location1,\n    \"date\": getTimestampD(),\n    \"time\": getTimestampT(),\n    \"timestamp\": getTimestamp(),\n    \"temperature\": Math.floor((Math.random() * 9 + 20)*100)/100 ,\n    \"humidity\": Math.floor(( Math.random() * 15 + 40)*100)/100\n};\nreturn msg;","outputs":1,"x":379.75,"y":174,"z":"19037e02.c3c6a2","wires":[["60828a7b.881084"]]},{"id":"478912c5.d17f1c","type":"template","name":"Authrization Header","field":"headers.Authorization","template":"Bearer testcode2","x":1068.392837524414,"y":550.8928909301758,"z":"19037e02.c3c6a2","wires":[["be89d78b.d6c088"]]},{"id":"be89d78b.d6c088","type":"http request","name":"REST API Put data","method":"PUT","ret":"txt","url":"http://api.trial2.iot.jp.fujitsu.com/v1/ITP314-001/DTC/TEST2","x":1286.8928451538086,"y":550.8928918838501,"z":"19037e02.c3c6a2","wires":[["1294b0ee.33d68f"]]},{"id":"1294b0ee.33d68f","type":"debug","name":"","active":false,"console":"false","complete":"false","x":1378.3928451538086,"y":614.3928909301758,"z":"19037e02.c3c6a2","wires":[]},{"id":"91fff190.d087b","type":"comment","name":"Send data to MQTT Out(Publish)","info":"","x":891,"y":26,"z":"19037e02.c3c6a2","wires":[]},{"id":"a6e83ff2.ab835","type":"comment","name":"Send data to REST API Put","info":"","x":1087.392837524414,"y":514.8928909301758,"z":"19037e02.c3c6a2","wires":[]},{"id":"a7a0031e.90714","type":"debug","name":"","active":false,"console":"false","complete":"false","x":818.3928375244141,"y":589.8928909301758,"z":"19037e02.c3c6a2","wires":[]},{"id":"34480a65.881346","type":"json","name":"","x":534.392822265625,"y":646.1428833007812,"z":"19037e02.c3c6a2","wires":[["a7a0031e.90714","17c1c778.cf9379","91ab8cd7.386bd","85e572df.d81d9"]]},{"id":"1916a32e.63471d","type":"comment","name":"Subscribe from MQTT In","info":"","x":126.392822265625,"y":551.1428833007812,"z":"19037e02.c3c6a2","wires":[]},{"id":"91ab8cd7.386bd","type":"csv","name":"JSON to CSV output","sep":",","hdrin":"","hdrout":false,"multi":"one","ret":"\\n","temp":"date,time,sensorname,temperature,humidity","x":840.3928375244141,"y":630.8928909301758,"z":"19037e02.c3c6a2","wires":[["3e3da473.0b66bc","16582430.a890dc"]]},{"id":"3e3da473.0b66bc","type":"debug","name":"","active":false,"console":"false","complete":"false","x":1057.392837524414,"y":651.8928909301758,"z":"19037e02.c3c6a2","wires":[]},{"id":"16582430.a890dc","type":"file","name":"Write to CSV File","filename":"public/data/test_20170707.csv","appendNewline":false,"overwriteFile":"false","x":1071.392837524414,"y":610.8928909301758,"z":"19037e02.c3c6a2","wires":[]},{"id":"17c1c778.cf9379","type":"switch","name":"Separate by SensorName","property":"payload.sensorname","rules":[{"t":"eq","v":"Sensor1"},{"t":"eq","v":"Sensor2"},{"t":"eq","v":"Sensor3"},{"t":"eq","v":"Sensor4"},{"t":"eq","v":"Sensor5"},{"t":"eq","v":"Sensor6"},{"t":"eq","v":"Sensor7"},{"t":"eq","v":"Sensor8"},{"t":"eq","v":"Sensor9"},{"t":"eq","v":"Sensor10"}],"checkall":"true","outputs":10,"x":200.1071319580078,"y":1010.7142610549927,"z":"19037e02.c3c6a2","wires":[["d2b4d0e2.ca0db","7ef7a8f3.56f308","66cb7da0.dd68a4"],["41a4b96d.cdf248","ea91e6fc.4e04a8","ade34674.1e4158"],["405d5165.34a75","26cb288a.557838","8235c8a.f8abf38"],["e734ab35.2c9ee8","b3b91ef8.44697","aac1576b.4d9f98"],["53f56469.0f25ec","56022bb6.493044","fa55cbb6.89b4b8"],["9e641828.eff398","89009b46.d7a078","aaa620c.cb515e"],["a30b52c7.658e2","ad3bcb7.4f58138","fed8cfe3.efa62"],["440480b.e28e98","e9181ccd.19a75","2293d5a1.06ef2a"],["bdd8a5de.53fe18","92553aad.1d1058"],["13ee185c.9ba648","6c880fdd.e6b53"]]},{"id":"7ef7a8f3.56f308","type":"function","name":"Sensor1 Temp Payload","func":"return {payload:msg.payload.temperature};","outputs":1,"x":749.6586990356445,"y":947.3094606399536,"z":"19037e02.c3c6a2","wires":[["2e86e60d.b20a9a","24c68ff3.83709","d3be1893.1448f8","deb5f093.c82b9","7749251b.81aacc","8eaca509.1a76d8"]]},{"id":"ea91e6fc.4e04a8","type":"function","name":"Sensor2 Temp Payload","func":"return {payload:msg.payload.temperature};\n","outputs":1,"x":748.1309471130371,"y":987.0595636367798,"z":"19037e02.c3c6a2","wires":[["d342f66d.bad478","fd8cfda6.f8cac","1d741d38.9e2663","4354c766.41d488"]]},{"id":"26cb288a.557838","type":"function","name":"Sensor3 Temp Payload","func":"return {payload:msg.payload.temperature};","outputs":1,"x":749.8253860473633,"y":1027.4762086868286,"z":"19037e02.c3c6a2","wires":[["7a4d32d6.b1228c","f06ce523.1b4268","74cd3115.38eca","f9d6c6c1.325c58"]]},{"id":"b3b91ef8.44697","type":"function","name":"Sensor4 Temp Payload","func":"return {payload:msg.payload.temperature};","outputs":1,"x":749.5197830200195,"y":1068.9484376907349,"z":"19037e02.c3c6a2","wires":[["4661cfc.eb8133","6d2de0c7.4ad4b","aaf025f.3b6b4d8","14e00ef5.a0f4e1"]]},{"id":"f4c9770c.f338a8","type":"comment","name":"Make dummy data to Publish","info":"","x":339,"y":28,"z":"19037e02.c3c6a2","wires":[]},{"id":"3669e5f1.ebf46a","type":"websocket out","name":"/ws/sensor1","server":"5fbac071.4b08d","client":"","x":296.82141876220703,"y":1362.2382011413574,"z":"19037e02.c3c6a2","wires":[]},{"id":"d2b4d0e2.ca0db","type":"function","name":"Data Modify","func":"msg.payload =  {\n    \"temp\": msg.payload.temperature,\n    \"humidity\": msg.payload.humidity\n};\n\nreturn msg;","outputs":1,"x":129.26587677001953,"y":1361.238094329834,"z":"19037e02.c3c6a2","wires":[["3669e5f1.ebf46a"]]},{"id":"41a4b96d.cdf248","type":"function","name":"Data Modify","func":"msg.payload =  {\n    \"temp\": msg.payload.temperature,\n    \"humidity\": msg.payload.humidity\n};\n\nreturn msg;","outputs":1,"x":129.1547622680664,"y":1401.6825885772705,"z":"19037e02.c3c6a2","wires":[["8ca5bd8d.d81d7"]]},{"id":"405d5165.34a75","type":"function","name":"Data Modify","func":"msg.payload =  {\n    \"temp\": msg.payload.temperature,\n    \"humidity\": msg.payload.humidity\n};\n\nreturn msg;","outputs":1,"x":131.1547622680664,"y":1443.6825885772705,"z":"19037e02.c3c6a2","wires":[["dcafcece.9b016"]]},{"id":"e734ab35.2c9ee8","type":"function","name":"Data Modify","func":"msg.payload =  {\n    \"temp\": msg.payload.temperature,\n    \"humidity\": msg.payload.humidity\n};\n\nreturn msg;","outputs":1,"x":132.04364776611328,"y":1483.4603691101074,"z":"19037e02.c3c6a2","wires":[["cafa8d44.91b72"]]},{"id":"8ca5bd8d.d81d7","type":"websocket out","name":"/ws/sensor2","server":"a7949bb6.944e38","client":"","x":296.9325485229492,"y":1402.5714950561523,"z":"19037e02.c3c6a2","wires":[]},{"id":"b4cb2b9c.f45478","type":"comment","name":"HTTP URL","info":"","x":112.89289093017578,"y":1838.928614616394,"z":"19037e02.c3c6a2","wires":[]},{"id":"71d2088f.dd7758","type":"http in","name":"","url":"/sensor","method":"get","x":117.89289093017578,"y":1878.178635597229,"z":"19037e02.c3c6a2","wires":[["562410cc.031da"]]},{"id":"562410cc.031da","type":"template","name":"All Sensor Visualize","field":"payload","template":"<!DOCTYPE html>\n<html>\n<head>\n\t<meta charset=\"UTF-8\">\n\t<title>Sensor Data Visualization</title>\n\t<link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css\" rel=\"stylesheet\">\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/css/style2.css\">\n\t<script src=\"https://code.jquery.com/jquery-3.2.1.slim.min.js\" integrity=\"sha256-k2WSCIexGzOj3Euiig+TlR8gA0EmPjuc79OEeY5L45g=\" crossorigin=\"anonymous\"></script>\n\t<script type=\"text/javascript\" src=\"//www.google.com/jsapi\"></script>\n\t<script type=\"text/javascript\" src=\"https://www.gstatic.com/charts/loader.js\"></script>\n\t<script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://oss.maxcdn.com/respond/1.4.2/respond.min.js\"></script>\n\t<script type=\"text/javascript\">\n\n// Sensor1 JS Section\n\nvar wsUrl1 = 'wss://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/ws/sensor1';\n\tvar socket;\n\t\tvar temperatureData1, humidityData1;\n\t\tvar temperatureOptions1, humidityOptions1;\n\t\tvar temperatureChart1, humidityChart1;\n\n\t// Google Gauge\n\t\tgoogle.load(\"visualization\", \"1\", {packages:[\"gauge\"]});\n\t\tgoogle.setOnLoadCallback(drawChart1);\n\t\tfunction drawChart1() {\n\n\t// Data for Sensor1 temperature chart\n\t\ttemperatureData1 = google.visualization.arrayToDataTable([\n\t\t['Label', 'Value'],\n\t\t['Seosor1', 0],\n\t\t]);\n\n\t// Data for Sensor1 humidity chart\n\t\thumidityData1 = google.visualization.arrayToDataTable([\n\t\t['Label', 'Value'],\n\t\t['Sensor1', 0]\n\t\t]);\n\n\t// Option for Sensor1 temperature chart\n\t\ttemperatureOptions1 = {\n\t\twidth: 200, height: 200,\n\t\tmin: 20, max: 30,\n\t\tredFrom: 28, redTo: 30,\n\t\tgreenFrom: 20, greenTo: 25,\n\t\tyellowFrom:25, yellowTo: 28,\n\t\tminorTicks: 10\n\t\t};\n\n\t// Option for Sensor1 humidity chart\n\t\thumidityOptions1 = {\n\t\twidth: 200, height: 200,\n\t\tmin: 0, max: 100,\n\t\tredFrom: 75, redTo: 100,\n\t\tgreenFrom: 40, greenTo: 60,\n\t\tyellowFrom:60, yellowTo: 75,\n\t\tminorTicks: 10\n\t\t};\n\n\ttemperatureChart1 = new google.visualization.Gauge(document.getElementById('temperatureChart1'));\n\thumidityChart1 = new google.visualization.Gauge(document.getElementById('humidityChart1'));\n\n\ttemperatureChart1.draw(temperatureData1, temperatureOptions1);\n\thumidityChart1.draw(humidityData1, humidityOptions1);\n\n\t};\n\n// Sensor2 JS Section\n\nvar wsUrl2 = 'wss://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/ws/sensor2';\n\tvar socket;\n\t\tvar temperatureData2, humidityData2;\n\t\tvar temperatureOptions2, humidityOptions2;\n\t\tvar temperatureChart2, humidityChart2;\n\n\t// Google Gauge\n\t\tgoogle.load(\"visualization\", \"1\", {packages:[\"gauge\"]});\n\t\tgoogle.setOnLoadCallback(drawChart2);\n\t\tfunction drawChart2() {\n\n\t// Data for Sensor2 temperature chart\n\ttemperatureData2 = google.visualization.arrayToDataTable([\n\t\t['Label', 'Value'],\n\t\t['Sensor2', 0],\n\t\t]);\n\n\t// Data for Sensor2 humidity chart\n\thumidityData2 = google.visualization.arrayToDataTable([\n\t\t['Label', 'Value'],\n\t\t['Sensor2', 0]\n\t\t]);\n\n\t// Option for Sensor2 temperature chart\n\ttemperatureOptions2 = {\n\t\twidth: 200, height: 200,\n\t\tmin: 20, max: 30,\n\t\tredFrom: 28, redTo: 30,\n\t\tgreenFrom: 20, greenTo: 25,\n\t\tyellowFrom:25, yellowTo: 28,\n\t\tminorTicks: 10\n\t\t};\n\n\t// Option for Sensor2 humidity chart\n\thumidityOptions2 = {\n\t\twidth: 200, height: 200,\n\t\tmin: 0, max: 100,\n\t\tredFrom: 75, redTo: 100,\n\t\tgreenFrom: 40, greenTo: 60,\n\t\tyellowFrom:60, yellowTo: 75,\n\t\tminorTicks: 10\n\t\t};\n\n\n\ttemperatureChart2 = new google.visualization.Gauge(document.getElementById('temperatureChart2'));\n\thumidityChart2 = new google.visualization.Gauge(document.getElementById('humidityChart2'));\n\n\ttemperatureChart2.draw(temperatureData2, temperatureOptions2);\n\thumidityChart2.draw(humidityData2, humidityOptions2);\n\n\t};\n\n// Sensor3 JS Section\n\nvar wsUrl3 = 'wss://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/ws/sensor3';\n\tvar socket;\n\t\tvar temperatureData3, humidityData3;\n\t\tvar temperatureOptions3, humidityOptions3;\n\t\tvar temperatureChart3, humidityChart3;\n\n\t// Google Gauge\n\t\tgoogle.load(\"visualization\", \"1\", {packages:[\"gauge\"]});\n\t\tgoogle.setOnLoadCallback(drawChart3);\n\t\tfunction drawChart3() {\n\n\t// Data for Sensor3 temperature chart\n\ttemperatureData3 = google.visualization.arrayToDataTable([\n\t\t['Label', 'Value'],\n\t\t['Sensor3', 0],\n\t\t]);\n\n\t// Data for Sensor3 humidity chart\n\thumidityData3 = google.visualization.arrayToDataTable([\n\t\t['Label', 'Value'],\n\t\t['Sensor3', 0]\n\t\t]);\n\n\t// Option for Sensor3 temperature chart\n\ttemperatureOptions3 = {\n\t\twidth: 200, height: 200,\n\t\tmin: 20, max: 30,\n\t\tredFrom: 28, redTo: 30,\n\t\tgreenFrom: 20, greenTo: 25,\n\t\tyellowFrom:25, yellowTo: 28,\n\t\tminorTicks: 10\n\t\t};\n\n\t// Option for Sensor3 humidity chart\n\thumidityOptions3 = {\n\t\twidth: 200, height: 200,\n\t\tmin: 0, max: 100,\n\t\tredFrom: 75, redTo: 100,\n\t\tgreenFrom: 40, greenTo: 60,\n\t\tyellowFrom:60, yellowTo: 75,\n\t\tminorTicks: 10\n\t\t};\n\n\n\ttemperatureChart3 = new google.visualization.Gauge(document.getElementById('temperatureChart3'));\n\thumidityChart3 = new google.visualization.Gauge(document.getElementById('humidityChart3'));\n\n\ttemperatureChart3.draw(temperatureData3, temperatureOptions3);\n\thumidityChart3.draw(humidityData3, humidityOptions3);\n\n\t};\n\n// Sensor4 JS Section\n\nvar wsUrl4 = 'wss://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/ws/sensor4';\n\tvar socket;\n\t\tvar temperatureData4, humidityData4;\n\t\tvar temperatureOptions4, humidityOptions4;\n\t\tvar temperatureChart4, humidityChart4;\n\n\t// Google Gauge\n\t\tgoogle.load(\"visualization\", \"1\", {packages:[\"gauge\"]});\n\t\tgoogle.setOnLoadCallback(drawChart4);\n\t\tfunction drawChart4() {\n\n\t// Data for Sensor4 temperature chart\n\ttemperatureData4 = google.visualization.arrayToDataTable([\n\t\t['Label', 'Value'],\n\t\t['Sensor4', 0],\n\t\t]);\n\n\t// Data for Sensor4 humidity chart\n\thumidityData4 = google.visualization.arrayToDataTable([\n\t\t['Label', 'Value'],\n\t\t['Sensor4', 0]\n\t\t]);\n\n\t// Option for Sensor4 temperature chart\n\ttemperatureOptions4 = {\n\t\twidth: 200, height: 200,\n\t\tmin: 20, max: 30,\n\t\tredFrom: 28, redTo: 30,\n\t\tgreenFrom: 20, greenTo: 25,\n\t\tyellowFrom:25, yellowTo: 28,\n\t\tminorTicks: 10\n\t\t};\n\n\t// Option for Sensor4 humidity chart\n\thumidityOptions4 = {\n\t\twidth: 200, height: 200,\n\t\tmin: 0, max: 100,\n\t\tredFrom: 75, redTo: 100,\n\t\tgreenFrom: 40, greenTo: 60,\n\t\tyellowFrom:60, yellowTo: 75,\n\t\tminorTicks: 10\n\t\t};\n\n\n\ttemperatureChart4 = new google.visualization.Gauge(document.getElementById('temperatureChart4'));\n\thumidityChart4 = new google.visualization.Gauge(document.getElementById('humidityChart4'));\n\n\ttemperatureChart4.draw(temperatureData4, temperatureOptions4);\n\thumidityChart4.draw(humidityData4, humidityOptions4);\n\n\t};\n\n// Sensor5 JS Section\n\nvar wsUrl5 = 'wss://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/ws/sensor5';\n\tvar socket;\n\t\tvar temperatureData5, humidityData5;\n\t\tvar temperatureOptions5, humidityOptions5;\n\t\tvar temperatureChart5, humidityChart5;\n\n\t// Google Gauge\n\t\tgoogle.load(\"visualization\", \"1\", {packages:[\"gauge\"]});\n\t\tgoogle.setOnLoadCallback(drawChart5);\n\t\tfunction drawChart5() {\n\n\t// Data for Sensor5 temperature chart\n\ttemperatureData5 = google.visualization.arrayToDataTable([\n\t\t['Label', 'Value'],\n\t\t['Sensor5', 0],\n\t\t]);\n\n\t// Data for Sensor5 humidity chart\n\thumidityData5 = google.visualization.arrayToDataTable([\n\t\t['Label', 'Value'],\n\t\t['Sensor5', 0]\n\t\t]);\n\n\t// Option for Sensor5 temperature chart\n\ttemperatureOptions5 = {\n\t\twidth: 200, height: 200,\n\t\tmin: 20, max: 30,\n\t\tredFrom: 28, redTo: 30,\n\t\tgreenFrom: 20, greenTo: 25,\n\t\tyellowFrom:25, yellowTo: 28,\n\t\tminorTicks: 10\n\t\t};\n\n\t// Option for Sensor5 humidity chart\n\thumidityOptions5 = {\n\t\twidth: 200, height: 200,\n\t\tmin: 0, max: 100,\n\t\tredFrom: 75, redTo: 100,\n\t\tgreenFrom: 40, greenTo: 60,\n\t\tyellowFrom:60, yellowTo: 75,\n\t\tminorTicks: 10\n\t\t};\n\n\n\ttemperatureChart5 = new google.visualization.Gauge(document.getElementById('temperatureChart5'));\n\thumidityChart5 = new google.visualization.Gauge(document.getElementById('humidityChart5'));\n\n\ttemperatureChart5.draw(temperatureData5, temperatureOptions5);\n\thumidityChart5.draw(humidityData5, humidityOptions5);\n\n\t};\n\n// Sensor6 JS Section\n\nvar wsUrl6 = 'wss://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/ws/sensor6';\n\tvar socket;\n\t\tvar temperatureData6, humidityData6;\n\t\tvar temperatureOptions6, humidityOptions6;\n\t\tvar temperatureChart6, humidityChart6;\n\n\t// Google Gauge\n\t\tgoogle.load(\"visualization\", \"1\", {packages:[\"gauge\"]});\n\t\tgoogle.setOnLoadCallback(drawChart6);\n\t\tfunction drawChart6() {\n\n\t// Data for Sensor6 temperature chart\n\ttemperatureData6 = google.visualization.arrayToDataTable([\n\t\t['Label', 'Value'],\n\t\t['Sensor6', 0],\n\t\t]);\n\n\t// Data for Sensor6 humidity chart\n\thumidityData6 = google.visualization.arrayToDataTable([\n\t\t['Label', 'Value'],\n\t\t['Sensor6', 0]\n\t\t]);\n\n\t// Option for Sensor6 temperature chart\n\ttemperatureOptions6 = {\n\t\twidth: 200, height: 200,\n\t\tmin: 20, max: 30,\n\t\tredFrom: 28, redTo: 30,\n\t\tgreenFrom: 20, greenTo: 25,\n\t\tyellowFrom:25, yellowTo: 28,\n\t\tminorTicks: 10\n\t\t};\n\n\t// Option for Sensor6 humidity chart\n\thumidityOptions6 = {\n\t\twidth: 200, height: 200,\n\t\tmin: 0, max: 100,\n\t\tredFrom: 75, redTo: 100,\n\t\tgreenFrom: 40, greenTo: 60,\n\t\tyellowFrom:60, yellowTo: 75,\n\t\tminorTicks: 10\n\t\t};\n\n\n\ttemperatureChart6 = new google.visualization.Gauge(document.getElementById('temperatureChart6'));\n\thumidityChart6 = new google.visualization.Gauge(document.getElementById('humidityChart6'));\n\n\ttemperatureChart6.draw(temperatureData6, temperatureOptions6);\n\thumidityChart6.draw(humidityData6, humidityOptions6);\n\n\t};\n\n// Sensor7 JS Section\n\nvar wsUrl7 = 'wss://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/ws/sensor7';\n\tvar socket;\n\t\tvar temperatureData7, humidityData7;\n\t\tvar temperatureOptions7, humidityOptions7;\n\t\tvar temperatureChart7, humidityChart7;\n\n\t// Google Gauge\n\t\tgoogle.load(\"visualization\", \"1\", {packages:[\"gauge\"]});\n\t\tgoogle.setOnLoadCallback(drawChart7);\n\t\tfunction drawChart7() {\n\n\t// Data for Sensor7 temperature chart\n\ttemperatureData7 = google.visualization.arrayToDataTable([\n\t\t['Label', 'Value'],\n\t\t['Sensor7', 0],\n\t\t]);\n\n\t// Data for Sensor7 humidity chart\n\thumidityData7 = google.visualization.arrayToDataTable([\n\t\t['Label', 'Value'],\n\t\t['Sensor7', 0]\n\t\t]);\n\n\t// Option for Sensor7 temperature chart\n\ttemperatureOptions7 = {\n\t\twidth: 200, height: 200,\n\t\tmin: 20, max: 30,\n\t\tredFrom: 28, redTo: 30,\n\t\tgreenFrom: 20, greenTo: 25,\n\t\tyellowFrom:25, yellowTo: 28,\n\t\tminorTicks: 10\n\t\t};\n\n\t// Option for Sensor7 humidity chart\n\thumidityOptions7 = {\n\t\twidth: 200, height: 200,\n\t\tmin: 0, max: 100,\n\t\tredFrom: 75, redTo: 100,\n\t\tgreenFrom: 40, greenTo: 60,\n\t\tyellowFrom:60, yellowTo: 75,\n\t\tminorTicks: 10\n\t\t};\n\n\n\ttemperatureChart7 = new google.visualization.Gauge(document.getElementById('temperatureChart7'));\n\thumidityChart7 = new google.visualization.Gauge(document.getElementById('humidityChart7'));\n\n\ttemperatureChart7.draw(temperatureData7, temperatureOptions7);\n\thumidityChart7.draw(humidityData7, humidityOptions7);\n\n\t};\n\n// Sensor8 JS Section\n\nvar wsUrl8 = 'wss://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/ws/sensor8';\n\tvar socket;\n\t\tvar temperatureData8, humidityData8;\n\t\tvar temperatureOptions8, humidityOptions8;\n\t\tvar temperatureChart8, humidityChart8;\n\n\t// Google Gauge\n\t\tgoogle.load(\"visualization\", \"1\", {packages:[\"gauge\"]});\n\t\tgoogle.setOnLoadCallback(drawChart8);\n\t\tfunction drawChart8() {\n\n\t// Data for Sensor8 temperature chart\n\ttemperatureData8 = google.visualization.arrayToDataTable([\n\t\t['Label', 'Value'],\n\t\t['Sensor8', 0],\n\t\t]);\n\n\t// Data for Sensor8 humidity chart\n\thumidityData8 = google.visualization.arrayToDataTable([\n\t\t['Label', 'Value'],\n\t\t['Sensor8', 0]\n\t\t]);\n\n\t// Option for Sensor8 temperature chart\n\ttemperatureOptions8 = {\n\t\twidth: 200, height: 200,\n\t\tmin: 20, max: 30,\n\t\tredFrom: 28, redTo: 30,\n\t\tgreenFrom: 20, greenTo: 25,\n\t\tyellowFrom:25, yellowTo: 28,\n\t\tminorTicks: 10\n\t\t};\n\n\t// Option for Sensor8 humidity chart\n\thumidityOptions8 = {\n\t\twidth: 200, height: 200,\n\t\tmin: 0, max: 100,\n\t\tredFrom: 75, redTo: 100,\n\t\tgreenFrom: 40, greenTo: 60,\n\t\tyellowFrom:60, yellowTo: 75,\n\t\tminorTicks: 10\n\t\t};\n\n\n\ttemperatureChart8 = new google.visualization.Gauge(document.getElementById('temperatureChart8'));\n\thumidityChart8 = new google.visualization.Gauge(document.getElementById('humidityChart8'));\n\n\ttemperatureChart8.draw(temperatureData8, temperatureOptions8);\n\thumidityChart8.draw(humidityData8, humidityOptions8);\n\n\t};\n\n// Sensor1 Websocket Connect and Close\n      \nfunction connect1() {\n\tsocket = new WebSocket(wsUrl1);\n\tsocket.onmessage = function(e) {\n\tvar sensorData = JSON.parse(e.data);\n\n\t// Update temperature data\n\ttemperatureData1.setValue(0, 1, sensorData.temp);\n\n\t// Update humidity data\n\thumidityData1.setValue(0, 1, sensorData.humidity);\n\n\ttemperatureChart1.draw(temperatureData1, temperatureOptions1);\n\thumidityChart1.draw(humidityData1, humidityOptions1);\n\n\t};\n};\n      \nfunction disconnect1() {\n\tsocket.close();\n};\n\n// Sensor2 Websocket Connect and Close\n      \nfunction connect2() {\n\tsocket = new WebSocket(wsUrl2);\n\tsocket.onmessage = function(e) {\n\tvar sensorData = JSON.parse(e.data);\n\n\t// Update Sensor2 temperature data\n\ttemperatureData2.setValue(0, 1, sensorData.temp);\n\n\t// Update Sensor2 humidity data\n\thumidityData2.setValue(0, 1, sensorData.humidity);\n\n\n\ttemperatureChart2.draw(temperatureData2, temperatureOptions2);\n\thumidityChart2.draw(humidityData2, humidityOptions2);\n\n\t};\n};\n\nfunction disconnect2() {\n\tsocket.close();\n};\n\n// Sensor3 Websocket Connect and Close\n      \nfunction connect3() {\n\tsocket = new WebSocket(wsUrl3);\n\tsocket.onmessage = function(e) {\n\tvar sensorData = JSON.parse(e.data);\n\n\t// Update Sensor3 temperature data\n\ttemperatureData3.setValue(0, 1, sensorData.temp);\n\n\t// Update Sensor3 humidity data\n\thumidityData3.setValue(0, 1, sensorData.humidity);\n\n\n\ttemperatureChart3.draw(temperatureData3, temperatureOptions3);\n\thumidityChart3.draw(humidityData3, humidityOptions3);\n\n\t};\n};\n\nfunction disconnect3() {\n\tsocket.close();\n};\n\n// Sensor4 Websocket Connect and Close\n      \nfunction connect4() {\n\tsocket = new WebSocket(wsUrl4);\n\tsocket.onmessage = function(e) {\n\tvar sensorData = JSON.parse(e.data);\n\n\t// Update Sensor4 temperature data\n\ttemperatureData4.setValue(0, 1, sensorData.temp);\n\n\t// Update Sensor4 humidity data\n\thumidityData4.setValue(0, 1, sensorData.humidity);\n\n\n\ttemperatureChart4.draw(temperatureData4, temperatureOptions4);\n\thumidityChart4.draw(humidityData4, humidityOptions4);\n\n\t};\n};\n\nfunction disconnect4() {\n\tsocket.close();\n};\n\n// Sensor5 Websocket Connect and Close\n      \nfunction connect5() {\n\tsocket = new WebSocket(wsUrl5);\n\tsocket.onmessage = function(e) {\n\tvar sensorData = JSON.parse(e.data);\n\n\t// Update Sensor5 temperature data\n\ttemperatureData5.setValue(0, 1, sensorData.temp);\n\n\t// Update Sensor5 humidity data\n\thumidityData5.setValue(0, 1, sensorData.humidity);\n\n\n\ttemperatureChart5.draw(temperatureData5, temperatureOptions5);\n\thumidityChart5.draw(humidityData5, humidityOptions5);\n\n\t};\n};\n\nfunction disconnect5() {\n\tsocket.close();\n};\n\n// Sensor6 Websocket Connect and Close\n      \nfunction connect6() {\n\tsocket = new WebSocket(wsUrl6);\n\tsocket.onmessage = function(e) {\n\tvar sensorData = JSON.parse(e.data);\n\n\t// Update Sensor6 temperature data\n\ttemperatureData6.setValue(0, 1, sensorData.temp);\n\n\t// Update Sensor6 humidity data\n\thumidityData6.setValue(0, 1, sensorData.humidity);\n\n\n\ttemperatureChart6.draw(temperatureData6, temperatureOptions6);\n\thumidityChart6.draw(humidityData6, humidityOptions6);\n\n\t};\n};\n\nfunction disconnect6() {\n\tsocket.close();\n};\n\n// Sensor7 Websocket Connect and Close\n      \nfunction connect7() {\n\tsocket = new WebSocket(wsUrl7);\n\tsocket.onmessage = function(e) {\n\tvar sensorData = JSON.parse(e.data);\n\n\t// Update Sensor7 temperature data\n\ttemperatureData7.setValue(0, 1, sensorData.temp);\n\n\t// Update Sensor7 humidity data\n\thumidityData7.setValue(0, 1, sensorData.humidity);\n\n\n\ttemperatureChart7.draw(temperatureData7, temperatureOptions7);\n\thumidityChart7.draw(humidityData7, humidityOptions7);\n\n\t};\n};\n\nfunction disconnect7() {\n\tsocket.close();\n};\n\n// Sensor8 Websocket Connect and Close\n      \nfunction connect8() {\n\tsocket = new WebSocket(wsUrl8);\n\tsocket.onmessage = function(e) {\n\tvar sensorData = JSON.parse(e.data);\n\n\t// Update Sensor8 temperature data\n\ttemperatureData8.setValue(0, 1, sensorData.temp);\n\n\t// Update Sensor8 humidity data\n\thumidityData8.setValue(0, 1, sensorData.humidity);\n\n\n\ttemperatureChart8.draw(temperatureData8, temperatureOptions8);\n\thumidityChart8.draw(humidityData8, humidityOptions8);\n\n\t};\n};\n\nfunction disconnect8() {\n\tsocket.close();\n};\n\n</script>\n\n</head>\n\n<body>\n<div>\n<!-- <div class=\"container\"> --> \n\t<h1> K5 IoT Sample App <small>< Realtime Meter with Websocket ></small></h1>\n</div>  \n\n<br>\n<h3>■ Websocket 接続 ■</h3>\n<div>\n\t<br><button onclick=\"connect1()\">Connect Sensor1</button></br>\n\t<br><button onclick=\"connect2()\">Connect Sensor2</button></br>\n\t<br><button onclick=\"connect3()\">Connect Sensor3</button></br>\n\t<br><button onclick=\"connect4()\">Connect Sensor4</button></br>\n\t<br><button onclick=\"connect5()\">Connect Sensor5</button></br>\n\t<br><button onclick=\"connect6()\">Connect Sensor5</button></br>\n\t<br><button onclick=\"connect7()\">Connect Sensor7</button></br>\n\t<br><button onclick=\"connect8()\">Connect Sensor8</button></br>\n</div>\n</br>\n<h3>■ Websocket 切断 ■</h3>\n<div>\n\t<br><button onclick=\"disconnect1()\">Disconnect Sensor1</button></br>\n\t<br><button onclick=\"disconnect2()\">Disconnect Sensor2</button></br>\n\t<br><button onclick=\"disconnect3()\">Disconnect Sensor3</button></br>\n\t<br><button onclick=\"disconnect4()\">Disconnect Sensor4</button></br>\n\t<br><button onclick=\"disconnect5()\">Disconnect Sensor5</button></br>\n\t<br><button onclick=\"disconnect6()\">Disconnect Sensor6</button></br>\n\t<br><button onclick=\"disconnect7()\">Disconnect Sensor7</button></br>\n\t<br><button onclick=\"disconnect8()\">Disconnect Sensor8</button></br>\n</div>\n<br>\n<h1>■ Temperature ■</h1>\n<div>\n\t<div id=\"temperatureChart1\" style=\"width: 200px; height: 200px; float:left;\"></div>\n\t<div id=\"temperatureChart2\" style=\"width: 200px; height: 200px; float:left;\"></div>\n\t<div id=\"temperatureChart3\" style=\"width: 200px; height: 200px; float:left;\"></div>\n\t<div id=\"temperatureChart4\" style=\"width: 200px; height: 200px; float:left;\"></div>\n\t<div id=\"temperatureChart5\" style=\"width: 200px; height: 200px; float:left;\"></div>\n\t<div id=\"temperatureChart6\" style=\"width: 200px; height: 200px; float:left;\"></div>\n\t<div id=\"temperatureChart7\" style=\"width: 200px; height: 200px; float:left;\"></div>\n\t<div id=\"temperatureChart8\" style=\"width: 200px; height: 200px; float:left;\"></div>\n</div>\n<br><br><br><br><br><br><br><br><br><br><br><br><br>\n<h1>■ Humidity ■</h1>\n<div>\n\t<div id=\"humidityChart1\" style=\"width: 200px; height: 200px; float:left;\"></div>\n\t<div id=\"humidityChart2\" style=\"width: 200px; height: 200px; float:left;\"></div>\n\t<div id=\"humidityChart3\" style=\"width: 200px; height: 200px; float:left;\"></div>\n\t<div id=\"humidityChart4\" style=\"width: 200px; height: 200px; float:left;\"></div>\n\t<div id=\"humidityChart5\" style=\"width: 200px; height: 200px; float:left;\"></div>\n\t<div id=\"humidityChart6\" style=\"width: 200px; height: 200px; float:left;\"></div>\n\t<div id=\"humidityChart7\" style=\"width: 200px; height: 200px; float:left;\"></div>\n\t<div id=\"humidityChart8\" style=\"width: 200px; height: 200px; float:left;\"></div>\n</div>\n\n</body>\n</html>","x":325.8928909301758,"y":1878.178635597229,"z":"19037e02.c3c6a2","wires":[["b61e4894.158ba8"]]},{"id":"b61e4894.158ba8","type":"http response","name":"","x":517.8928909301758,"y":1878.178635597229,"z":"19037e02.c3c6a2","wires":[]},{"id":"dcafcece.9b016","type":"websocket out","name":"/ws/sensor3","server":"437ce790.863708","client":"","x":298.68248748779297,"y":1443.3215141296387,"z":"19037e02.c3c6a2","wires":[]},{"id":"cafa8d44.91b72","type":"websocket out","name":"/ws/sensor4","server":"f45a52fa.a21f","client":"","x":299.6825637817383,"y":1483.5714530944824,"z":"19037e02.c3c6a2","wires":[]},{"id":"85e572df.d81d9","type":"function","name":"Data Modify for DB Insert","func":"msg.payload = \"insert into iotdata(sensorname, date, time, timestamp, temperature, humidity) values('\" + msg.payload.sensorname + \"','\" + msg.payload.date + \"','\" + msg.payload.time + \"','\" + msg.payload.timestamp + \"','\" + msg.payload.temperature + \"','\" + msg.payload.humidity + \"');\";\n\nreturn msg;","outputs":1,"x":853.6428680419922,"y":703.3928909301758,"z":"19037e02.c3c6a2","wires":[["43a0e3f5.dc57dc","1b96b53c.bbdabb"]]},{"id":"49ea14e3.cbf7dc","type":"inject","name":"","topic":"","payload":"true","payloadType":"none","repeat":"","crontab":"","once":false,"x":172,"y":278,"z":"c47877ed.3b2c88","wires":[["1f8bdd22.fac253"]]},{"id":"7ca48d71.8dac24","type":"debug","name":"","active":true,"console":"false","complete":"false","x":1012,"y":278,"z":"c47877ed.3b2c88","wires":[]},{"id":"cd62ccd2.770b","type":"http request","name":"REST API GET","method":"GET","ret":"obj","url":"http://api.trial2.iot.jp.fujitsu.com/v1/ITP314-001/DTC/TEST2/_past","x":702,"y":278,"z":"c47877ed.3b2c88","wires":[["7ca48d71.8dac24","efcb6e3a.25eb7"]]},{"id":"1f8bdd22.fac253","type":"template","name":"認証情報付与","field":"headers.Authorization","template":"Bearer testcode2","x":422,"y":278,"z":"c47877ed.3b2c88","wires":[["cd62ccd2.770b"]]},{"id":"c4b3b49d.f7df48","type":"http request","name":"データ追加 [REST API]","method":"PUT","ret":"txt","url":"http://api.trial2.iot.jp.fujitsu.com/v1/ITP314-001/DTC/TEST2","x":932,"y":462,"z":"c47877ed.3b2c88","wires":[["21df3551.45d10a"]]},{"id":"4fa882ab.9f7c0c","type":"template","name":"投入データ [JSON]","field":"payload","template":"{\"date\":\"20170626T13:39:00Z\",\"sensorname\":\"Sensor3\",\"location\":\"ServerRack3\",\"moisture\":45,\"temperature\":25}","x":552,"y":462,"z":"c47877ed.3b2c88","wires":[["ccc81f1d.6a92d"]]},{"id":"45a16d6d.3a7374","type":"inject","name":"","topic":"","payload":"true","payloadType":"none","repeat":"","crontab":"","once":false,"x":172,"y":462,"z":"c47877ed.3b2c88","wires":[["5e2933d.d4d21cc"]]},{"id":"5e2933d.d4d21cc","type":"template","name":"認証情報付与","field":"headers.Authorization","template":"Bearer testcode2","x":342,"y":462,"z":"c47877ed.3b2c88","wires":[["4fa882ab.9f7c0c"]]},{"id":"21df3551.45d10a","type":"debug","name":"","active":false,"console":"false","complete":"false","x":1132,"y":462,"z":"c47877ed.3b2c88","wires":[]},{"id":"ccc81f1d.6a92d","type":"json","name":"","x":732,"y":462,"z":"c47877ed.3b2c88","wires":[["87ba0045.d0aa3","c4b3b49d.f7df48"]]},{"id":"87ba0045.d0aa3","type":"debug","name":"","active":false,"console":"false","complete":"false","x":892,"y":522,"z":"c47877ed.3b2c88","wires":[]},{"id":"8efee2a3.72437","type":"function","name":"ダミーデータ生成（センサー3）","func":"var getTimestamp = function () {\nvar date = new Date();\ndate.setHours(date.getHours() + 9);\n\nvar ts = date.getFullYear() + '-';\nts += (\"0\"+(date.getMonth()+1)).slice(-2) + '-';\nts += (\"0\"+date.getDate()).slice(-2) + 'T';\nts += (\"0\"+date.getHours()).slice(-2) + ':';\nts += (\"0\"+date.getMinutes()).slice(-2) + ':';\nts += (\"0\"+date.getSeconds()).slice(-2) + 'Z';\n\nreturn ts;\n};\n\n// Object of SensorName\nvar name1 = \"Sensor3\";\n\n// Object of place\nvar location1 = \"ServerRack3\"\n\n\nmsg.payload={\n    \"sensorname\": name1,\n    \"location\": location1,\n    \"date\": getTimestamp(),\n    \"temperature\": Math.floor((Math.random() * 30 + 25)*100)/100 ,\n    \"moisture\": Math.floor(( Math.random() * 71 + 30)*100)/100\n};\nreturn msg;\n","outputs":1,"x":402,"y":582,"z":"c47877ed.3b2c88","wires":[["85deff5.48f14"]]},{"id":"b51a0cee.0ec2f","type":"inject","name":"","topic":"","payload":"true","payloadType":"none","repeat":"","crontab":"","once":false,"x":172,"y":582,"z":"c47877ed.3b2c88","wires":[["8efee2a3.72437"]]},{"id":"85deff5.48f14","type":"template","name":"認証情報付与","field":"headers.Authorization","template":"Bearer testcode2","x":662,"y":582,"z":"c47877ed.3b2c88","wires":[["694580fc.74d95","29a56ebb.bbfde2"]]},{"id":"29a56ebb.bbfde2","type":"http request","name":"データ追加 [REST API]","method":"PUT","ret":"txt","url":"http://api.trial2.iot.jp.fujitsu.com/v1/ITP314-001/DTC/TEST2","x":912,"y":582,"z":"c47877ed.3b2c88","wires":[["2e55a03e.2b1f7"]]},{"id":"2e55a03e.2b1f7","type":"debug","name":"","active":false,"console":"false","complete":"false","x":1132,"y":582,"z":"c47877ed.3b2c88","wires":[]},{"id":"694580fc.74d95","type":"debug","name":"","active":false,"console":"false","complete":"false","x":872,"y":642,"z":"c47877ed.3b2c88","wires":[]},{"id":"85823da4.c2b93","type":"comment","name":"REST API GET","info":"","x":182,"y":238,"z":"c47877ed.3b2c88","wires":[]},{"id":"67c7ed94.adb424","type":"comment","name":"REST API PUT","info":"","x":182,"y":422,"z":"c47877ed.3b2c88","wires":[]},{"id":"e969f214.4c271","type":"comment","name":"REST API Random Data PUT","info":"","x":222,"y":542,"z":"c47877ed.3b2c88","wires":[]},{"id":"f52db4e8.ebdb08","type":"http in","name":"","url":"/api_get","method":"get","x":187,"y":331,"z":"c47877ed.3b2c88","wires":[["1f8bdd22.fac253"]]},{"id":"efcb6e3a.25eb7","type":"http response","name":"","x":995,"y":325,"z":"c47877ed.3b2c88","wires":[]},{"id":"24c68ff3.83709","type":"ui_chart","tab":"a7aa3c6e.2da45","name":"Sensor1 Temperature 1 hour","group":"sensor1 Status","order":"2","interpolate":"linear","nodata":"No Data","removeOlder":1,"removeOlderUnit":"3600","x":1190.25,"y":964.75,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"2e86e60d.b20a9a","type":"ui_gauge","tab":"a7aa3c6e.2da45","name":"Sensor1 Realtime Temp Gauge","group":"sensor1 Status","order":1,"format":"{{value}}℃","min":"20","max":"30","x":1197.5,"y":928,"z":"19037e02.c3c6a2","wires":[]},{"id":"d3be1893.1448f8","type":"ui_chart","tab":"a09df126.e15a5","name":"Sensor1 Temperature 12 hours","group":"sensor1 Temperature","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"12","removeOlderUnit":"3600","x":1198.25,"y":1000.75,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"deb5f093.c82b9","type":"ui_chart","tab":"3d5dc16c.f5300e","name":"Sensor1 Temperature 1week","group":"sensor1 Temperature","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"1","removeOlderUnit":"604800","x":1191.25,"y":1036.75,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"d342f66d.bad478","type":"ui_chart","tab":"a7aa3c6e.2da45","name":"Sensor2 Temperature 1 hour","group":"sensor2 Status","order":"2","interpolate":"linear","nodata":"No Data","removeOlder":1,"removeOlderUnit":"3600","x":1192.25,"y":1108.75,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"4354c766.41d488","type":"ui_gauge","tab":"a7aa3c6e.2da45","name":"Sensor2 Realtime Temp Gauge","group":"sensor2 Status","order":1,"format":"{{value}}℃","min":"20","max":"30","x":1200,"y":1072.75,"z":"19037e02.c3c6a2","wires":[]},{"id":"fd8cfda6.f8cac","type":"ui_chart","tab":"a09df126.e15a5","name":"Sensor2 Temperature 12 hours","group":"sensor2 Temperature","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"12","removeOlderUnit":"3600","x":1201.25,"y":1144.75,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"1d741d38.9e2663","type":"ui_chart","tab":"3d5dc16c.f5300e","name":"Sensor2 Temperature 1week","group":"sensor2 Temperature","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"1","removeOlderUnit":"604800","x":1194.25,"y":1180.75,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"7a4d32d6.b1228c","type":"ui_chart","tab":"a7aa3c6e.2da45","name":"Sensor3 Temperature 1 hour","group":"sensor3 Status","order":"2","interpolate":"linear","nodata":"No Data","removeOlder":1,"removeOlderUnit":"3600","x":1194.250015258789,"y":1250.7500104904175,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"f9d6c6c1.325c58","type":"ui_gauge","tab":"a7aa3c6e.2da45","name":"Sensor3 Realtime Temp Gauge","group":"sensor3 Status","order":1,"format":"{{value}}℃","min":"20","max":"30","x":1203.75,"y":1215.5,"z":"19037e02.c3c6a2","wires":[]},{"id":"f06ce523.1b4268","type":"ui_chart","tab":"a09df126.e15a5","name":"Sensor3 Temperature 12 hours","group":"sensor3 Temperature","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"12","removeOlderUnit":"3600","x":1203.250015258789,"y":1288.7500104904175,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"74cd3115.38eca","type":"ui_chart","tab":"3d5dc16c.f5300e","name":"Sensor3 Temperature 1week","group":"sensor3 Temperature","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"1","removeOlderUnit":"604800","x":1196.250015258789,"y":1327.7500104904175,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"4661cfc.eb8133","type":"ui_chart","tab":"a7aa3c6e.2da45","name":"Sensor4 Temperature 1 hour","group":"sensor4 Status","order":"2","interpolate":"linear","nodata":"No Data","removeOlder":1,"removeOlderUnit":"3600","x":1198.250015258789,"y":1404.7500104904175,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"14e00ef5.a0f4e1","type":"ui_gauge","tab":"a7aa3c6e.2da45","name":"Sensor4 Realtime Temp Gauge","group":"sensor4 Status","order":1,"format":"{{value}}℃","min":"20","max":"30","x":1205.75,"y":1368.75,"z":"19037e02.c3c6a2","wires":[]},{"id":"6d2de0c7.4ad4b","type":"ui_chart","tab":"a09df126.e15a5","name":"Sensor4 Temperature 12 hours","group":"sensor4 Temperature","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"12","removeOlderUnit":"3600","x":1207.250015258789,"y":1442.7500104904175,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"aaf025f.3b6b4d8","type":"ui_chart","tab":"3d5dc16c.f5300e","name":"Sensor4 Temperature 1week","group":"sensor4 Temperature","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"1","removeOlderUnit":"604800","x":1201.250015258789,"y":1480.7500104904175,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"22ddb8fb.5aa0e8","type":"http in","name":"GET /dash","url":"/dash","method":"get","x":112.89289093017578,"y":1919.678635597229,"z":"19037e02.c3c6a2","wires":[["5a49e678.46a118"]]},{"id":"5a49e678.46a118","type":"template","name":"Redirect URL","field":"payload","template":"<!DOCTYPE html>\n<html lang = \"ja\">\n<head>\n\t<meta charset = \"utf-8\">\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/css/style2.css\">\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/dist/css/tabulator.min.css\">\n\t<script type=\"text/javascript\" src=\"https://www.gstatic.com/charts/loader.js\"></script> \n\t<script type=\"text/javascript\" src=\"https://www.google.com/jsapi\"></script>\n\t<script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-3.2.1.min.js\" integrity=\"sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=\" crossorigin=\"anonymous\"></script>\n\t<script type=\"text/javascript\" src=\"https://code.jquery.com/ui/1.12.1/jquery-ui.min.js\" integrity=\"sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=\" crossorigin=\"anonymous\"></script> \n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/fancytree/dist/jquery.fancytree-all.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/dist/js/tabulator.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/script/kousin.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/script/date-time-week.js\"></script>\n</head>\n<body>\n\n<h1><span style = 'color:red; font-size:100%; font-weight:bold; font-family: serif;'>■ K5 IoT Platform Visualization Sample ■</span></h1>\n<br>\n\n<p>■ 設置センサー 一覧 ■</p>\n\n<br>\n<div id=\"example-table\" style=\"width: 60%;\"></div>\n<br>\n\n<!--\n<br>\n<div id=\"table_div\" style=\"width: 100%; \"></div>\n<br>\n-->\n\n<!--\n<style type='text/css'>\n  .bold-green-font {\n    font-weight: bold;\n    color: green;\n  }\n\n  .bold-font {\n    font-weight: bold;\n  }\n\n  .right-text {\n    text-align: right;\n  }\n\n  .large-font {\n    font-size: 20px;\n  }\n\n  .italic-darkblue-font {\n    font-style: italic;\n    color: darkblue;\n  }\n\n  .italic-purple-font {\n    font-style: italic;\n    color: purple;\n  }\n\n  .underline-blue-font {\n    text-decoration: underline;\n    color: blue;\n  }\n\n  .gold-border {\n    border: 3px solid gold;\n  }\n\n  .deeppink-border {\n    border: 3px solid deeppink;\n  }\n\n  .orange-background {\n    background-color: orange;\n  }\n\n  .orchid-background {\n    background-color: orchid;\n  }\n\n  .beige-background {\n    background-color: beige;\n  }\n\n</style>\n-->\n\n<script>\n\n$(\"#example-table\").tabulator({\n\tcolumns:[\n\t\t{title:\"SensorName\", field:\"sensorname\", sortable:true, width:100},\n\t\t{title:\"Room\", field:\"room\", sortable:true, sorter:\"string\", width:200},\n\t\t{title:\"Location\", field:\"location\", sortable:true, sorter:\"string\", width:200},\n\t\t{title:\"Registration Date\", field:\"date\", sortable:true, width:150},\n\t\t{title:\"Comment\", field:\"comment\", sortable:false, width:500},\n\t],\n});\n\n$(\"#example-table\").tabulator(\"setData\", \"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/api1/v1/sensor_data/all\");\n\n$(window).resize(function(){\n\t$(\"#example-table\").tabulator(\"redraw\");\n});\n\n\n//google.load('visualization', '1', {packages:['table']});\n//google.setOnLoadCallback(drawTable);\n\n//function drawTable() {\n\n//\tvar cssClassNames = {\n//\t\t'headerRow': 'italic-darkblue-font large-font bold-font',\n//\t\t'tableRow': '',\n//\t\t'oddTableRow': 'beige-background',\n//\t\t'selectedTableRow': 'orange-background large-font',\n//\t\t'hoverTableRow': '',\n//\t\t'headerCell': 'gold-border',\n//\t\t'tableCell': '',\n//\t\t'rowNumberCell': 'underline-blue-font'\n//\t\t};\n\n//var options = {'showRowNumber': true, 'allowHtml': true, 'cssClassNames': cssClassNames};\n\n//var data = new google.visualization.DataTable();\n//\tdata.addColumn('string', 'Location');\n//\tdata.addColumn('string', 'Rack Name');\n//\tdata.addColumn('string', 'Sensor Name');\n//\tdata.addColumn('boolean', 'Status');\n//\tdata.addColumn('string', 'Temperature');\n//\tdata.addColumn('string', 'Humidity');\n//\tdata.addColumn('string', 'Battery Change Date');\n//\tdata.addRows([\n//\t\t['29F Server Room A','Server Rack No1','Sensor1',true,'26.12','54.31','2017/06/26' ],\n//\t\t['29F Server Room A','Server Rack No3','Sensor2',true,'27.23','56.44','2017/05/20' ],\n//\t\t['29F Server Room B','Server Rack No2','Sensor3',false,'25.22','53.22','2017/04/14' ],\n//\t\t['29F Server Room C','Server Rack No1','Sensor4',true,'26.89','54.19','2017/06/20' ],\n//\t\t['29F Server Room D','Server Rack No4','Sensor5',true,'25.11','58.36','2017/05/10' ],\n//\t\t['29F Server Room E','Server Rack No8','Sensor6',false,'23.34','51.22','2017/04/12' ],\n//\t\t['29F Server Room E','Server Rack No4','Sensor6',true,'24.21','50.12','2017/04/12' ],\n//\t\t['29F Server Room E','Server Rack No5','Sensor6',true,'23.86','48.31','2017/04/12' ]\n//\t\t]);\n\n//var table = new google.visualization.Table(document.getElementById('table_div'));\n//\ttable.draw(data, {showRowNumber: true});\n//}\n\nfunction goTop1(){\n  location.href=(\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/ui/#/0\");\n}\nfunction goTop2(){\n  location.href=(\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/ui/#/3\");\n}\nfunction goTop3(){\n  location.href=(\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/ui/#/1\");\n}\nfunction goTop4(){\n  location.href=(\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/ui/#/2\");\n}\nfunction goTop5(){\n  location.href=(\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/ui/#/4\");\n}\nfunction goTop6(){\n  location.href=(\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/ui/#/5\");\n}\nfunction goTop7(){\n  location.href=(\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/ui/#/6\");\n}\nfunction goTop8(){\n  location.href=(\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/ui/#/7\");\n}\nfunction goTop9(){\n  location.href=(\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/sensor\");\n}\nfunction goTop10(){\n  location.href=(\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/csv_get\");\n}\nfunction goTop11(){\n  location.href=(\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/sensor_info\");\n}\n\n</script>\n\n<form>\n<p> ■周辺温度ダッシュボード■</p>\n\n<br>\n<input type=\"button\" value=\"温度ステータス\" onclick=\"goTop1()\">\n</br>\n<br>\n\n<p> ■湿度ダッシュボード■ </p>\n<br>\n<input type=\"button\" value=\"湿度ステータス\" onclick=\"goTop2()\">\n</br>\n<br>\n<p> ■周辺温度グラフチャート■</p>\n<br>\n<input type=\"button\" value=\"12時間温度推移グラフ\" onclick=\"goTop3()\">\n</br>\n<br>\n<input type=\"button\" value=\"1週間温度推移グラフ\" onclick=\"goTop4()\">\n</br>\n<br>\n<p> ■湿度グラフチャート■</p>\n<br>\n<input type=\"button\" value=\"12時間湿度推移グラフ\" onclick=\"goTop5()\">\n</br>\n<br>\n<input type=\"button\" value=\"1週間湿度推移グラフ\" onclick=\"goTop6()\">\n</br>\n<!--\n<br>\n<p> ■温湿度ゲージ■</p>\n<br>\n<input type=\"button\" value=\"温湿度ゲージメーター表示\" onclick=\"goTop9()\">\n</br>\n-->\n<br>\n<p> ■CSVファイルダウンロード■</p>\n<br>\n<input type=\"button\" value=\"CSVダウンロード\" onclick=\"goTop10()\">\n</br>\n<br>\n<p> ■センサー管理メニュー■</p>\n<br>\n<input type=\"button\" value=\"センサー管理\" onclick=\"goTop11()\">\n</br>\n</form>\n\n\n\n\n</body>\n</html>\n","x":306.8928985595703,"y":1920.928635597229,"z":"19037e02.c3c6a2","wires":[["ed85956e.a2db98"]]},{"id":"ed85956e.a2db98","type":"http response","name":"","x":517.1428985595703,"y":1922.1786346435547,"z":"19037e02.c3c6a2","wires":[]},{"id":"66cb7da0.dd68a4","type":"function","name":"Sensor1 Humid Payload","func":"return {payload:msg.payload.humidity};","outputs":1,"x":750.964241027832,"y":1111.142834663391,"z":"19037e02.c3c6a2","wires":[["cf8e101e.fec9","85d4f00c.d9504","4b72b10f.78a2","9fa83ecc.a29b5"]]},{"id":"ade34674.1e4158","type":"function","name":"Sensor2 Humid Payload","func":"return {payload:msg.payload.humidity};\n","outputs":1,"x":749.4364891052246,"y":1150.8929376602173,"z":"19037e02.c3c6a2","wires":[["9edffc39.b6614","b73666f.dd3b198","5d7e510.afd68b","2d6ac599.5b844a"]]},{"id":"8235c8a.f8abf38","type":"function","name":"Sensor3 Humid Payload","func":"return {payload:msg.payload.humidity};","outputs":1,"x":751.1309280395508,"y":1191.309582710266,"z":"19037e02.c3c6a2","wires":[["83bf16d8.0f6a98","5dc2be9a.4ebdf","1ba59df8.84eea2","429e891f.1563a8"]]},{"id":"aac1576b.4d9f98","type":"function","name":"Sensor4 Humid Payload","func":"return {payload:msg.payload.humidity};","outputs":1,"x":750.825325012207,"y":1232.7818117141724,"z":"19037e02.c3c6a2","wires":[["87bcb0c7.528e4","61fe187b.35b428","86c4bb36.913a88","9c4b42b6.db58b"]]},{"id":"cf8e101e.fec9","type":"ui_chart","tab":"aecdcf58.fb5c9","name":"Sensor1 Humidity 1 hour","group":"sensor1 Status","order":"2","interpolate":"linear","nodata":"No Data","removeOlder":1,"removeOlderUnit":"3600","x":1192.250015258789,"y":1561.7500104904175,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"9fa83ecc.a29b5","type":"ui_gauge","tab":"aecdcf58.fb5c9","name":"Sensor1 Realtime Humidity Gauge","group":"sensor1 Status","order":1,"format":"{{value}}%","min":"40","max":"55","x":1221.75,"y":1524.75,"z":"19037e02.c3c6a2","wires":[]},{"id":"85d4f00c.d9504","type":"ui_chart","tab":"a26c4963.778498","name":"Sensor1 Humidity 12 hours","group":"sensor1 Humidity","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"12","removeOlderUnit":"3600","x":1201.2500190734863,"y":1601.7500162124634,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"4b72b10f.78a2","type":"ui_chart","tab":"b2251b3a.e88bc8","name":"Sensor1 Humidity 1week","group":"sensor1 Humidity","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"1","removeOlderUnit":"604800","x":1196.2500190734863,"y":1637.7500162124634,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"b73666f.dd3b198","type":"ui_chart","tab":"aecdcf58.fb5c9","name":"Sensor2 Humidity 1 hour","group":"sensor2 Status","order":"2","interpolate":"linear","nodata":"No Data","removeOlder":1,"removeOlderUnit":"3600","x":1197.2500190734863,"y":1714.5000171661377,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"9edffc39.b6614","type":"ui_gauge","tab":"aecdcf58.fb5c9","name":"Sensor2 Realtime Humidity Gauge","group":"sensor2 Status","order":1,"format":"{{value}}%","min":"40","max":"55","x":1226.5,"y":1678.5,"z":"19037e02.c3c6a2","wires":[]},{"id":"5d7e510.afd68b","type":"ui_chart","tab":"a26c4963.778498","name":"Sensor2 Humidity 12 hours","group":"sensor2 Humidity","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"12","removeOlderUnit":"3600","x":1209.0000228881836,"y":1753.750018119812,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"2d6ac599.5b844a","type":"ui_chart","tab":"b2251b3a.e88bc8","name":"Sensor2 Humidity 1week","group":"sensor2 Humidity","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"1","removeOlderUnit":"604800","x":1203.0000228881836,"y":1791.750018119812,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"5dc2be9a.4ebdf","type":"ui_chart","tab":"aecdcf58.fb5c9","name":"Sensor3 Humidity 1 hour","group":"sensor3 Status","order":"2","interpolate":"linear","nodata":"No Data","removeOlder":1,"removeOlderUnit":"3600","x":1200.5000228881836,"y":1870.7500190734863,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"83bf16d8.0f6a98","type":"ui_gauge","tab":"aecdcf58.fb5c9","name":"Sensor3 Realtime Humidity Gauge","group":"sensor3 Status","order":1,"format":"{{value}}%","min":"40","max":"55","x":1232.75,"y":1834.25,"z":"19037e02.c3c6a2","wires":[]},{"id":"1ba59df8.84eea2","type":"ui_chart","tab":"a26c4963.778498","name":"Sensor3 Humidity 12 hours","group":"sensor3 Humidity","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"12","removeOlderUnit":"3600","x":1209.5000228881836,"y":1908.7500200271606,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"429e891f.1563a8","type":"ui_chart","tab":"b2251b3a.e88bc8","name":"Sensor3 Humidity 1week","group":"sensor3 Humidity","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"1","removeOlderUnit":"604800","x":1202.5000228881836,"y":1947.7500200271606,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"61fe187b.35b428","type":"ui_chart","tab":"aecdcf58.fb5c9","name":"Sensor4 Humidity 1 hour","group":"sensor4 Status","order":"2","interpolate":"linear","nodata":"No Data","removeOlder":1,"removeOlderUnit":"3600","x":1204.5000228881836,"y":2024.7500219345093,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"87bcb0c7.528e4","type":"ui_gauge","tab":"aecdcf58.fb5c9","name":"Sensor4 Realtime Humidity Gauge","group":"sensor4 Status","order":1,"format":"{{value}}%","min":"40","max":"55","x":1235.25,"y":1987.75,"z":"19037e02.c3c6a2","wires":[]},{"id":"86c4bb36.913a88","type":"ui_chart","tab":"a26c4963.778498","name":"Sensor4 Humidity 12 hours","group":"sensor4 Humidity","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"12","removeOlderUnit":"3600","x":1212.250015258789,"y":2062.7500219345093,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"9c4b42b6.db58b","type":"ui_chart","tab":"b2251b3a.e88bc8","name":"Sensor4 Humidity 1week","group":"sensor4 Humidity","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"1","removeOlderUnit":"604800","x":1203.7500228881836,"y":2100.750023841858,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"611cfb84.a22684","type":"http in","name":"","url":"/csv_get","method":"get","x":122.39289093017578,"y":2002.428614616394,"z":"19037e02.c3c6a2","wires":[["977f6dde.cb53f"]]},{"id":"977f6dde.cb53f","type":"file in","name":"","filename":"test_20170707.csv","format":"","x":327.3928985595703,"y":2002.428635597229,"z":"19037e02.c3c6a2","wires":[["4f44e034.85a35"]]},{"id":"4f44e034.85a35","type":"http response","name":"","x":522.3928909301758,"y":2003.678614616394,"z":"19037e02.c3c6a2","wires":[]},{"id":"fd21aa70.9a6078","type":"http in","name":"","url":"/download","method":"get","x":103.64289093017578,"y":1962.428614616394,"z":"19037e02.c3c6a2","wires":[["bb5339dc.0ffff8"]]},{"id":"bb5339dc.0ffff8","type":"template","name":"CSV Download","field":"payload","template":"<!doctype html>\n<html lang=\"ja\">\n    <head>\n        <meta charset=\"utf-8\">\n        <title>Download Sample</title>\n    </head>\n    <body>\n        <script type='text/javascript'>\n            function handleDownload() {\n                var content = 'あいうえお';\n                var blob = new Blob([ content ], { \"type\" : \"text/plain\" });\n\n                if (window.navigator.msSaveBlob) { \n                    window.navigator.msSaveBlob(blob, \"test.txt\"); \n\n                    // msSaveOrOpenBlobの場合はファイルを保存せずに開ける\n                    window.navigator.msSaveOrOpenBlob(blob, \"test.txt\"); \n                } else {\n                    document.getElementById(\"download\").href = window.URL.createObjectURL(blob);\n                }\n            }\n        </script>\n        <a id=\"download\" href=\"#\" download=\"test.txt\" onclick=\"handleDownload()\">ダウンロード</a>\n    </body>\n</html>","x":313.6428985595703,"y":1963.678635597229,"z":"19037e02.c3c6a2","wires":[["368c3909.fcd2c6"]]},{"id":"368c3909.fcd2c6","type":"http response","name":"","x":529.8928909301758,"y":1969.928614616394,"z":"19037e02.c3c6a2","wires":[]},{"id":"91fcbbee.62faf8","type":"function","name":"Create Table iotdata","func":"msg.payload = \"create table iotdata (sensorname varchar(20), date date, time time, temperature real, humidity real);\";\n\nreturn msg;","outputs":1,"x":371.25,"y":690,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"934a6389.acdf7","type":"function","name":"Create dummy rundom data for Sensor5","func":"var getTimestamp = function () {\n    var date = new Date();\n    date.setHours(date.getHours() + 9);\n    var dt = date.getFullYear() + '-';\n    dt += (\"0\"+(date.getMonth()+1)).slice(-2) + '-';\n    dt += (\"0\"+date.getDate()).slice(-2) + 'T';\n    dt += (\"0\"+date.getHours()).slice(-2) + ':';\n    dt += (\"0\"+date.getMinutes()).slice(-2) + ':';\n    dt += (\"0\"+date.getSeconds()).slice(-2) + '+09:00';\n    return dt;\n}\n\nvar getTimestampD = function () {\nvar date = new Date();\ndate.setHours(date.getHours() + 9);\n\nvar ts = date.getFullYear() + '-';\nts += (\"0\"+(date.getMonth()+1)).slice(-2) + '-';\nts += (\"0\"+date.getDate()).slice(-2);\n\nreturn ts;\n};\n\nvar getTimestampT = function () {\nvar hour = new Date();\nhour.setHours(hour.getHours() +9);\n\nvar hr = (\"0\"+hour.getHours()).slice(-2) + ':';\nhr += (\"0\"+hour.getMinutes()).slice(-2) + ':';\nhr += (\"0\"+hour.getSeconds()).slice(-2);\n\nreturn hr;\n};\n\n// Object of SensorName\nvar name1 = \"Sensor5\";\n\n// Object of place\nvar location1 = \"ServerRack5\"\n\n\nmsg.payload={\n    \"sensorname\": name1,\n//    \"location\": location1,\n    \"date\": getTimestampD(),\n    \"time\": getTimestampT(),\n    \"timestamp\": getTimestamp(),\n    \"temperature\": Math.floor((Math.random() * 9 + 20)*100)/100 ,\n    \"humidity\": Math.floor(( Math.random() * 15 + 40)*100)/100\n};\nreturn msg;","outputs":1,"x":382,"y":210,"z":"19037e02.c3c6a2","wires":[["17c1c778.cf9379","85e572df.d81d9"]]},{"id":"4edeb525.a94a4c","type":"function","name":"Create dummy rundom data for Sensor6","func":"var getTimestamp = function () {\n    var date = new Date();\n    date.setHours(date.getHours() + 9);\n    var dt = date.getFullYear() + '-';\n    dt += (\"0\"+(date.getMonth()+1)).slice(-2) + '-';\n    dt += (\"0\"+date.getDate()).slice(-2) + 'T';\n    dt += (\"0\"+date.getHours()).slice(-2) + ':';\n    dt += (\"0\"+date.getMinutes()).slice(-2) + ':';\n    dt += (\"0\"+date.getSeconds()).slice(-2) + '+09:00';\n    return dt;\n}\n\nvar getTimestampD = function () {\nvar date = new Date();\ndate.setHours(date.getHours() + 9);\n\nvar ts = date.getFullYear() + '-';\nts += (\"0\"+(date.getMonth()+1)).slice(-2) + '-';\nts += (\"0\"+date.getDate()).slice(-2);\n\nreturn ts;\n};\n\nvar getTimestampT = function () {\nvar hour = new Date();\nhour.setHours(hour.getHours() +9);\n\nvar hr = (\"0\"+hour.getHours()).slice(-2) + ':';\nhr += (\"0\"+hour.getMinutes()).slice(-2) + ':';\nhr += (\"0\"+hour.getSeconds()).slice(-2);\n\nreturn hr;\n};\n\n// Object of SensorName\nvar name1 = \"Sensor6\";\n\n// Object of place\nvar location1 = \"ServerRack6\"\n\n\nmsg.payload={\n    \"sensorname\": name1,\n//    \"location\": location1,\n    \"date\": getTimestampD(),\n    \"time\": getTimestampT(),\n    \"timestamp\": getTimestamp(),\n    \"temperature\": Math.floor((Math.random() * 9 + 20)*100)/100 ,\n    \"humidity\": Math.floor(( Math.random() * 15 + 40)*100)/100\n};\nreturn msg;","outputs":1,"x":382,"y":246,"z":"19037e02.c3c6a2","wires":[["17c1c778.cf9379","85e572df.d81d9"]]},{"id":"9363ac16.05d35","type":"function","name":"Create dummy rundom data for Sensor7","func":"var getTimestamp = function () {\n    var date = new Date();\n    date.setHours(date.getHours() + 9);\n    var dt = date.getFullYear() + '-';\n    dt += (\"0\"+(date.getMonth()+1)).slice(-2) + '-';\n    dt += (\"0\"+date.getDate()).slice(-2) + 'T';\n    dt += (\"0\"+date.getHours()).slice(-2) + ':';\n    dt += (\"0\"+date.getMinutes()).slice(-2) + ':';\n    dt += (\"0\"+date.getSeconds()).slice(-2) + '+09:00';\n    return dt;\n}\n\nvar getTimestampD = function () {\nvar date = new Date();\ndate.setHours(date.getHours() + 9);\n\nvar ts = date.getFullYear() + '-';\nts += (\"0\"+(date.getMonth()+1)).slice(-2) + '-';\nts += (\"0\"+date.getDate()).slice(-2);\n\nreturn ts;\n};\n\nvar getTimestampT = function () {\nvar hour = new Date();\nhour.setHours(hour.getHours() +9);\n\nvar hr = (\"0\"+hour.getHours()).slice(-2) + ':';\nhr += (\"0\"+hour.getMinutes()).slice(-2) + ':';\nhr += (\"0\"+hour.getSeconds()).slice(-2);\n\nreturn hr;\n};\n\n// Object of SensorName\nvar name1 = \"Sensor7\";\n\n// Object of place\nvar location1 = \"ServerRack7\"\n\n\nmsg.payload={\n    \"sensorname\": name1,\n//    \"location\": location1,\n    \"date\": getTimestampD(),\n    \"time\": getTimestampT(),\n    \"timestamp\": getTimestamp(),\n    \"temperature\": Math.floor((Math.random() * 9 + 20)*100)/100 ,\n    \"humidity\": Math.floor(( Math.random() * 15 + 40)*100)/100\n};\nreturn msg;","outputs":1,"x":383,"y":285,"z":"19037e02.c3c6a2","wires":[["17c1c778.cf9379","85e572df.d81d9"]]},{"id":"ff215c52.638","type":"function","name":"Create dummy rundom data for Sensor8","func":"var getTimestamp = function () {\n    var date = new Date();\n    date.setHours(date.getHours() + 9);\n    var dt = date.getFullYear() + '-';\n    dt += (\"0\"+(date.getMonth()+1)).slice(-2) + '-';\n    dt += (\"0\"+date.getDate()).slice(-2) + 'T';\n    dt += (\"0\"+date.getHours()).slice(-2) + ':';\n    dt += (\"0\"+date.getMinutes()).slice(-2) + ':';\n    dt += (\"0\"+date.getSeconds()).slice(-2) + '+09:00';\n    return dt;\n}\n\nvar getTimestampD = function () {\nvar date = new Date();\ndate.setHours(date.getHours() + 9);\n\nvar ts = date.getFullYear() + '-';\nts += (\"0\"+(date.getMonth()+1)).slice(-2) + '-';\nts += (\"0\"+date.getDate()).slice(-2);\n\nreturn ts;\n};\n\nvar getTimestampT = function () {\nvar hour = new Date();\nhour.setHours(hour.getHours() +9);\n\nvar hr = (\"0\"+hour.getHours()).slice(-2) + ':';\nhr += (\"0\"+hour.getMinutes()).slice(-2) + ':';\nhr += (\"0\"+hour.getSeconds()).slice(-2);\n\nreturn hr;\n};\n\n// Object of SensorName\nvar name1 = \"Sensor8\";\n\n// Object of place\nvar location1 = \"ServerRack8\"\n\n\nmsg.payload={\n    \"sensorname\": name1,\n//    \"location\": location1,\n    \"date\": getTimestampD(),\n    \"time\": getTimestampT(),\n    \"timestamp\": getTimestamp(),\n    \"temperature\": Math.floor((Math.random() * 9 + 20)*100)/100 ,\n    \"humidity\": Math.floor(( Math.random() * 15 + 40)*100)/100\n};\nreturn msg;","outputs":1,"x":383,"y":322,"z":"19037e02.c3c6a2","wires":[["17c1c778.cf9379","85e572df.d81d9"]]},{"id":"8356ebd3.f4eb78","type":"websocket out","name":"/ws/sensor5","server":"54192100.1d709","client":"","x":301.23807525634766,"y":1523.5714588165283,"z":"19037e02.c3c6a2","wires":[]},{"id":"53f56469.0f25ec","type":"function","name":"Data Modify","func":"msg.payload =  {\n    \"temp\": msg.payload.temperature,\n    \"humidity\": msg.payload.humidity\n};\n\nreturn msg;","outputs":1,"x":133.68253326416016,"y":1522.5713520050049,"z":"19037e02.c3c6a2","wires":[["8356ebd3.f4eb78"]]},{"id":"9e641828.eff398","type":"function","name":"Data Modify","func":"msg.payload =  {\n    \"temp\": msg.payload.temperature,\n    \"humidity\": msg.payload.humidity\n};\n\nreturn msg;","outputs":1,"x":133.57141876220703,"y":1563.0158462524414,"z":"19037e02.c3c6a2","wires":[["cbac80d4.56a12"]]},{"id":"a30b52c7.658e2","type":"function","name":"Data Modify","func":"msg.payload =  {\n    \"temp\": msg.payload.temperature,\n    \"humidity\": msg.payload.humidity\n};\n\nreturn msg;","outputs":1,"x":135.57141876220703,"y":1605.0158462524414,"z":"19037e02.c3c6a2","wires":[["e2beda3f.330dd8"]]},{"id":"440480b.e28e98","type":"function","name":"Data Modify","func":"msg.payload =  {\n    \"temp\": msg.payload.temperature,\n    \"humidity\": msg.payload.humidity\n};\n\nreturn msg;","outputs":1,"x":136.4603042602539,"y":1644.7936267852783,"z":"19037e02.c3c6a2","wires":[["6b511cd7.5e5de4"]]},{"id":"cbac80d4.56a12","type":"websocket out","name":"/ws/sensor6","server":"5945612.f2a34a","client":"","x":301.34920501708984,"y":1563.9047527313232,"z":"19037e02.c3c6a2","wires":[]},{"id":"e2beda3f.330dd8","type":"websocket out","name":"/ws/sensor7","server":"13fa2ec7.0e6081","client":"","x":303.0991439819336,"y":1604.6547718048096,"z":"19037e02.c3c6a2","wires":[]},{"id":"6b511cd7.5e5de4","type":"websocket out","name":"/ws/sensor8","server":"7bf18ae5.ceac64","client":"","x":304.0992202758789,"y":1644.9047107696533,"z":"19037e02.c3c6a2","wires":[]},{"id":"56022bb6.493044","type":"function","name":"Sensor5 Temp Payload","func":"return {payload:msg.payload.temperature};","outputs":1,"x":749.464241027832,"y":1274.642840385437,"z":"19037e02.c3c6a2","wires":[["c8b9fe31.f1e08","5b1d7583.5c69cc","942ea735.356b48","e0cda673.5fd7e8"]]},{"id":"89009b46.d7a078","type":"function","name":"Sensor6 Temp Payload","func":"return {payload:msg.payload.temperature};\n","outputs":1,"x":747.9364891052246,"y":1314.3929433822632,"z":"19037e02.c3c6a2","wires":[["9ff0c4b4.3e67a8","ba550b10.d363d8","8a188c48.2697c","118229f0.f65726"]]},{"id":"ad3bcb7.4f58138","type":"function","name":"Sensor7 Temp Payload","func":"return {payload:msg.payload.temperature};","outputs":1,"x":748.3809432983398,"y":1353.5596055984497,"z":"19037e02.c3c6a2","wires":[["f37d9a51.704a98","d34e7ef1.c56e4","272a32c5.292f9e","4a6f4639.e88a08"]]},{"id":"e9181ccd.19a75","type":"function","name":"Sensor8 Temp Payload","func":"return {payload:msg.payload.temperature};","outputs":1,"x":749.325325012207,"y":1396.2818174362183,"z":"19037e02.c3c6a2","wires":[["e6fc2b1e.5b2d58","ae291da8.3cc79","5ead4ef5.5b55d","cd19a01c.c3246"]]},{"id":"fa55cbb6.89b4b8","type":"function","name":"Sensor5 Humid Payload","func":"return {payload:msg.payload.humidity};","outputs":1,"x":750.7697830200195,"y":1438.4762144088745,"z":"19037e02.c3c6a2","wires":[["9c748795.0e39b8","3c406880.fbcb18","515e3ba4.a3a674","9d7638b8.51fb28"]]},{"id":"aaa620c.cb515e","type":"function","name":"Sensor6 Humid Payload","func":"return {payload:msg.payload.humidity};\n","outputs":1,"x":749.2420310974121,"y":1478.2263174057007,"z":"19037e02.c3c6a2","wires":[["f23f7048.d3df9","5db32083.f0c39","d4f4beac.3d054","97a32541.168098"]]},{"id":"fed8cfe3.efa62","type":"function","name":"Sensor7 Humid Payload","func":"return {payload:msg.payload.humidity};","outputs":1,"x":750.9364700317383,"y":1518.6429624557495,"z":"19037e02.c3c6a2","wires":[["b6c04bf1.355e68","91f1f4e9.0e55e8","f7e51721.849a38","ec8e510f.2711"]]},{"id":"2293d5a1.06ef2a","type":"function","name":"Sensor8 Humid Payload","func":"return {payload:msg.payload.humidity};","outputs":1,"x":750.6308670043945,"y":1560.1151914596558,"z":"19037e02.c3c6a2","wires":[["1c55945a.c8669c","e7708c7b.efc54","dd70a8b.47f2958","2fb55bed.e187b4"]]},{"id":"c8b9fe31.f1e08","type":"ui_chart","tab":"a7aa3c6e.2da45","name":"Sensor5 Temperature 1 hour","group":"sensor5 Status","order":"2","interpolate":"linear","nodata":"No Data","removeOlder":1,"removeOlderUnit":"3600","x":1503.750015258789,"y":958.7500133514404,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"e0cda673.5fd7e8","type":"ui_gauge","tab":"a7aa3c6e.2da45","name":"Sensor5 Realtime Temp Gauge","group":"sensor5 Status","order":1,"format":"{{value}}℃","min":"20","max":"30","x":1510.500015258789,"y":921.7500133514404,"z":"19037e02.c3c6a2","wires":[]},{"id":"5b1d7583.5c69cc","type":"ui_chart","tab":"a09df126.e15a5","name":"Sensor5 Temperature 12 hours","group":"sensor5 Temperature","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"12","removeOlderUnit":"3600","x":1512.0000305175781,"y":994.7500152587891,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"942ea735.356b48","type":"ui_chart","tab":"3d5dc16c.f5300e","name":"Sensor5 Temperature 1week","group":"sensor5 Temperature","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"1","removeOlderUnit":"604800","x":1505.7500305175781,"y":1032.000015258789,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"9ff0c4b4.3e67a8","type":"ui_chart","tab":"a7aa3c6e.2da45","name":"Sensor6 Temperature 1 hour","group":"sensor6 Status","order":"2","interpolate":"linear","nodata":"No Data","removeOlder":1,"removeOlderUnit":"3600","x":1505.5000534057617,"y":1105.0000257492065,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"118229f0.f65726","type":"ui_gauge","tab":"a7aa3c6e.2da45","name":"Sensor6 Realtime Temp Gauge","group":"sensor6 Status","order":1,"format":"{{value}}℃","min":"20","max":"30","x":1513.2500305175781,"y":1069.000015258789,"z":"19037e02.c3c6a2","wires":[]},{"id":"ba550b10.d363d8","type":"ui_chart","tab":"a09df126.e15a5","name":"Sensor6 Temperature 12 hours","group":"sensor6 Temperature","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"12","removeOlderUnit":"3600","x":1513.5000534057617,"y":1143.0000257492065,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"8a188c48.2697c","type":"ui_chart","tab":"3d5dc16c.f5300e","name":"Sensor6 Temperature 1week","group":"sensor6 Temperature","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"1","removeOlderUnit":"604800","x":1507.5000534057617,"y":1181.0000257492065,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"f37d9a51.704a98","type":"ui_chart","tab":"a7aa3c6e.2da45","name":"Sensor7 Temperature 1 hour","group":"sensor7 Status","order":"2","interpolate":"linear","nodata":"No Data","removeOlder":1,"removeOlderUnit":"3600","x":1507.5000534057617,"y":1260.0000257492065,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"4a6f4639.e88a08","type":"ui_gauge","tab":"a7aa3c6e.2da45","name":"Sensor7 Realtime Temp Gauge","group":"sensor7 Status","order":1,"format":"{{value}}℃","min":"20","max":"30","x":1515.0000305175781,"y":1224.750015258789,"z":"19037e02.c3c6a2","wires":[]},{"id":"d34e7ef1.c56e4","type":"ui_chart","tab":"a09df126.e15a5","name":"Sensor7 Temperature 12 hours","group":"sensor7 Temperature","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"12","removeOlderUnit":"3600","x":1516.5000534057617,"y":1298.0000257492065,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"272a32c5.292f9e","type":"ui_chart","tab":"3d5dc16c.f5300e","name":"Sensor7 Temperature 1week","group":"sensor7 Temperature","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"1","removeOlderUnit":"604800","x":1509.5000534057617,"y":1337.0000257492065,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"e6fc2b1e.5b2d58","type":"ui_chart","tab":"a7aa3c6e.2da45","name":"Sensor8 Temperature 1 hour","group":"sensor8 Status","order":"2","interpolate":"linear","nodata":"No Data","removeOlder":1,"removeOlderUnit":"3600","x":1511.5000534057617,"y":1414.0000257492065,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"cd19a01c.c3246","type":"ui_gauge","tab":"a7aa3c6e.2da45","name":"Sensor8 Realtime Temp Gauge","group":"sensor8 Status","order":1,"format":"{{value}}℃","min":"20","max":"30","x":1519.0000305175781,"y":1378.000015258789,"z":"19037e02.c3c6a2","wires":[]},{"id":"ae291da8.3cc79","type":"ui_chart","tab":"a09df126.e15a5","name":"Sensor8 Temperature 12 hours","group":"sensor8 Temperature","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"12","removeOlderUnit":"3600","x":1520.5000534057617,"y":1452.0000257492065,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"5ead4ef5.5b55d","type":"ui_chart","tab":"3d5dc16c.f5300e","name":"Sensor8 Temperature 1week","group":"sensor8 Temperature","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"1","removeOlderUnit":"604800","x":1514.5000534057617,"y":1490.0000257492065,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"9c748795.0e39b8","type":"ui_chart","tab":"aecdcf58.fb5c9","name":"Sensor5 Humidity 1 hour","group":"sensor5 Status","order":"2","interpolate":"linear","nodata":"No Data","removeOlder":1,"removeOlderUnit":"3600","x":1504.2500228881836,"y":1562.2500104904175,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"9d7638b8.51fb28","type":"ui_gauge","tab":"aecdcf58.fb5c9","name":"Sensor5 Realtime Humidity Gauge","group":"sensor5 Status","order":1,"format":"{{value}}%","min":"40","max":"55","x":1535.0000228881836,"y":1526.5000247955322,"z":"19037e02.c3c6a2","wires":[]},{"id":"3c406880.fbcb18","type":"ui_chart","tab":"a26c4963.778498","name":"Sensor5 Humidity 12 hours","group":"sensor5 Humidity","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"12","removeOlderUnit":"3600","x":1513.2500267028809,"y":1602.2500162124634,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"515e3ba4.a3a674","type":"ui_chart","tab":"b2251b3a.e88bc8","name":"Sensor5 Humidity 1week","group":"sensor5 Humidity","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"1","removeOlderUnit":"604800","x":1508.2500267028809,"y":1638.2500162124634,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"f23f7048.d3df9","type":"ui_chart","tab":"aecdcf58.fb5c9","name":"Sensor6 Humidity 1 hour","group":"sensor6 Status","order":"2","interpolate":"linear","nodata":"No Data","removeOlder":1,"removeOlderUnit":"3600","x":1509.2500267028809,"y":1715.0000171661377,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"5db32083.f0c39","type":"ui_chart","tab":"a26c4963.778498","name":"Sensor6 Humidity 12 hours","group":"sensor6 Humidity","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"12","removeOlderUnit":"3600","x":1521.0000305175781,"y":1754.250018119812,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"d4f4beac.3d054","type":"ui_chart","tab":"b2251b3a.e88bc8","name":"Sensor6 Humidity 1week","group":"sensor6 Humidity","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"1","removeOlderUnit":"604800","x":1515.0000305175781,"y":1792.250018119812,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"97a32541.168098","type":"ui_gauge","tab":"aecdcf58.fb5c9","name":"Sensor6 Realtime Humidity Gauge","group":"sensor6 Status","order":1,"format":"{{value}}%","min":"40","max":"55","x":1538.2500305175781,"y":1677.5000276565552,"z":"19037e02.c3c6a2","wires":[]},{"id":"b6c04bf1.355e68","type":"ui_chart","tab":"aecdcf58.fb5c9","name":"Sensor7 Humidity 1 hour","group":"sensor7 Status","order":"2","interpolate":"linear","nodata":"No Data","removeOlder":1,"removeOlderUnit":"3600","x":1512.5000305175781,"y":1871.2500190734863,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"91f1f4e9.0e55e8","type":"ui_chart","tab":"a26c4963.778498","name":"Sensor7 Humidity 12 hours","group":"sensor7 Humidity","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"12","removeOlderUnit":"3600","x":1521.5000305175781,"y":1909.2500200271606,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"f7e51721.849a38","type":"ui_chart","tab":"b2251b3a.e88bc8","name":"Sensor7 Humidity 1week","group":"sensor7 Humidity","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"1","removeOlderUnit":"604800","x":1514.5000305175781,"y":1948.2500200271606,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"ec8e510f.2711","type":"ui_gauge","tab":"aecdcf58.fb5c9","name":"Sensor7 Realtime Humidity Gauge","group":"sensor7 Status","order":1,"format":"{{value}}%","min":"40","max":"55","x":1540.2500305175781,"y":1833.5000295639038,"z":"19037e02.c3c6a2","wires":[]},{"id":"1c55945a.c8669c","type":"ui_chart","tab":"aecdcf58.fb5c9","name":"Sensor8 Humidity 1 hour","group":"sensor8 Status","order":"2","interpolate":"linear","nodata":"No Data","removeOlder":1,"removeOlderUnit":"3600","x":1516.5000305175781,"y":2025.2500219345093,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"e7708c7b.efc54","type":"ui_chart","tab":"a26c4963.778498","name":"Sensor8 Humidity 12 hours","group":"sensor8 Humidity","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"12","removeOlderUnit":"3600","x":1524.2500228881836,"y":2063.2500219345093,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"dd70a8b.47f2958","type":"ui_chart","tab":"b2251b3a.e88bc8","name":"Sensor8 Humidity 1week","group":"sensor8 Humidity","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"1","removeOlderUnit":"604800","x":1515.7500305175781,"y":2101.250023841858,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"2fb55bed.e187b4","type":"ui_gauge","tab":"aecdcf58.fb5c9","name":"Sensor8 Realtime Humidity Gauge","group":"sensor8 Status","order":1,"format":"{{value}}%","min":"40","max":"55","x":1545.0000305175781,"y":1988.0000324249268,"z":"19037e02.c3c6a2","wires":[]},{"id":"e800d96f.587a78","type":"function","name":"Select * from iotdata","func":"msg.payload = \"select * from iotdata;\";\n\nreturn msg;","outputs":1,"x":365.25,"y":982.5,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"a62f9021.96b6f","type":"comment","name":"Create Table","info":"","x":122,"y":691,"z":"c47877ed.3b2c88","wires":[]},{"id":"dc7f2e3c.cf21b","type":"function","name":"Insert into iotdata","func":"msg.payload = \"insert into iotdata(sensorname, date, time, temperature, humidity) values('Sensor4','2017-07-12','09:19:00',21.46,57.18);\";\n\nreturn msg;","outputs":1,"x":365.75,"y":1310,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"e0d5e836.2d35a8","type":"inject","name":"","topic":"","payload":"","payloadType":"none","repeat":"","crontab":"","once":false,"x":143.74999618530273,"y":1310.4999980926514,"z":"c47877ed.3b2c88","wires":[["dc7f2e3c.cf21b"]]},{"id":"8f879e67.e8a31","type":"function","name":"Delete From Table","func":"msg.payload = \"delete from sensor_data where sensorname='';\";\n\nreturn msg;","outputs":1,"x":369,"y":1349,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"cb695447.48cff8","type":"inject","name":"","topic":"","payload":"","payloadType":"none","repeat":"","crontab":"","once":false,"x":144,"y":1349.5,"z":"c47877ed.3b2c88","wires":[["8f879e67.e8a31"]]},{"id":"43a0e3f5.dc57dc","type":"postgres","postgresdb":"b88098e5.2edd18","name":"postgres","output":true,"outputs":1,"x":1047.892837524414,"y":731.3928909301758,"z":"19037e02.c3c6a2","wires":[["bf895b4e.d95148"]]},{"id":"bf895b4e.d95148","type":"debug","name":"","active":false,"console":"false","complete":"false","x":1209.3928451538086,"y":731.1428928375244,"z":"19037e02.c3c6a2","wires":[]},{"id":"d9f6ad40.beb5b","type":"function","name":"Select * from pg_class","func":"msg.payload = \"select * from pg_class;\";\n\nreturn msg;","outputs":1,"x":381.91668701171875,"y":790.7777099609375,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"47236629.924478","type":"function","name":"Select * from information_schema","func":"msg.payload = \"select * from information_schema.columns where table_name = 'sensor_data' ORDER BY ordinal_position;\";\n\nreturn msg;","outputs":1,"x":416.58331298828125,"y":827.22216796875,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"2cab6981.366bb6","type":"comment","name":"Select Tables","info":"","x":120.33331298828125,"y":780.72216796875,"z":"c47877ed.3b2c88","wires":[]},{"id":"4d8851e6.a80e3","type":"function","name":"Add Collum in the Table","func":"msg.payload = \"alter table iotdata add column location varchar(20);\";\n\nreturn msg;","outputs":1,"x":378.02777099609375,"y":1192.7777099609375,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"2b1b1c6d.c4f594","type":"http in","name":"","url":"/tables_sensors","method":"get","x":146.44444274902344,"y":826.888916015625,"z":"c47877ed.3b2c88","wires":[["47236629.924478"]]},{"id":"1ff0a482.e86aab","type":"function","name":"Create Table sensors","func":"msg.payload = \"create table sensors (sensorname varchar(20), location varchar(20), date date, comment varchar(100));\";\n\nreturn msg;","outputs":1,"x":375.02777099609375,"y":734.5555419921875,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"866f52e4.f91db","type":"function","name":"Delete Collum from the Table","func":"msg.payload = \"alter table iotdata drop column location;\";\n\nreturn msg;","outputs":1,"x":393.6944580078125,"y":1152.4443359375,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"c00b793c.3d4898","type":"comment","name":"Add / Delete Collum Table","info":"","x":165.44444274902344,"y":1119.4443359375,"z":"c47877ed.3b2c88","wires":[]},{"id":"4ba330d9.9ca22","type":"function","name":"Insert into sensors","func":"msg.payload = \"insert into sensors(sensorname, location, date, comment) values('Sensor8','ストレージラック3','2017-07-14','サーバルームAに設置、TI SensorTAG使用');\";\n\nreturn msg;","outputs":1,"x":368.9166564941406,"y":1269.333251953125,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"bf631462.1f1448","type":"inject","name":"","topic":"","payload":"","payloadType":"none","repeat":"","crontab":"","once":false,"x":142.91665649414062,"y":1268.833251953125,"z":"c47877ed.3b2c88","wires":[["4ba330d9.9ca22"]]},{"id":"9c70cab4.d36c28","type":"comment","name":"Add / Delete Data","info":"","x":143.66665649414062,"y":1227.833251953125,"z":"c47877ed.3b2c88","wires":[]},{"id":"d99175fd.eadd98","type":"function","name":"Select * from sensor_data","func":"msg.payload = \"select * from sensor_data;\";\n\nreturn msg;","outputs":1,"x":383.02777099609375,"y":944.7777099609375,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"2ce8c9a0.9ae346","type":"debug","name":"","active":true,"console":"false","complete":"false","x":1044.7777709960938,"y":835.5277099609375,"z":"c47877ed.3b2c88","wires":[]},{"id":"9f2e45b0.9f4d08","type":"postgres","postgresdb":"b88098e5.2edd18","name":"postgres","output":true,"outputs":1,"x":828.0277709960938,"y":875.5277099609375,"z":"c47877ed.3b2c88","wires":[["2ce8c9a0.9ae346","deedf348.1d"]]},{"id":"e17763a3.ef3ef","type":"http in","name":"","url":"/select_sensors","method":"get","x":148.55555725097656,"y":944.6666259765625,"z":"c47877ed.3b2c88","wires":[["d99175fd.eadd98"]]},{"id":"deedf348.1d","type":"http response","name":"","x":1035.5555419921875,"y":927.3333740234375,"z":"c47877ed.3b2c88","wires":[]},{"id":"104ef25e.8a428e","type":"http in","name":"","url":"/select_iotdata","method":"get","x":145.66665649414062,"y":982.888916015625,"z":"c47877ed.3b2c88","wires":[["e800d96f.587a78"]]},{"id":"b322b2f9.e2bd2","type":"function","name":"Select * from information_schema","func":"msg.payload = \"select * from information_schema.columns where table_name = 'iotdata' ORDER BY ordinal_position;\";\n\nreturn msg;","outputs":1,"x":417,"y":865,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"c8c5a074.1fb93","type":"http in","name":"","url":"/tables_iotdata","method":"get","x":144,"y":865,"z":"c47877ed.3b2c88","wires":[["b322b2f9.e2bd2"]]},{"id":"ef5fe8af.6af8a8","type":"comment","name":"Select Data","info":"","x":120,"y":909,"z":"c47877ed.3b2c88","wires":[]},{"id":"d144ce72.0dbe5","type":"http in","name":"","url":"/query","method":"get","x":113.14288330078125,"y":2080.4286098480225,"z":"19037e02.c3c6a2","wires":[["4f65bea6.1ac11"]]},{"id":"34403ca3.39dd74","type":"postgres","postgresdb":"b88098e5.2edd18","name":"postgres","output":true,"outputs":1,"x":572.1428833007812,"y":2077.4286098480225,"z":"19037e02.c3c6a2","wires":[["3f0b7734.eec648","52ecfe68.dfd96"]]},{"id":"3f0b7734.eec648","type":"http response","name":"","x":741.1428833007812,"y":2121.4286098480225,"z":"19037e02.c3c6a2","wires":[]},{"id":"52ecfe68.dfd96","type":"debug","name":"","active":false,"console":"false","complete":"false","x":761.1428833007812,"y":2031.4286098480225,"z":"19037e02.c3c6a2","wires":[]},{"id":"115fbc33.179b24","type":"function","name":"Select count(*) from iotdata","func":"msg.payload = \"select count(*) from iotdata;\";\n\nreturn msg;","outputs":1,"x":387,"y":1058,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"85ae00b3.fe66c","type":"function","name":"Select Count(*) from sensor_data","func":"msg.payload = \"select count(*) from sensor_data;\";\n\nreturn msg;","outputs":1,"x":406.77777099609375,"y":1020.2777099609375,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"f6a444f1.cb1dd8","type":"http in","name":"","url":"/select_sensors_c","method":"get","x":149.30555725097656,"y":1020.1666259765625,"z":"c47877ed.3b2c88","wires":[["85ae00b3.fe66c"]]},{"id":"a3aeaf5.314255","type":"http in","name":"","url":"/select_iotdata_c","method":"get","x":146.41665649414062,"y":1058.388916015625,"z":"c47877ed.3b2c88","wires":[["115fbc33.179b24"]]},{"id":"ecc7f9d1.3c4b08","type":"function","name":"Delete All Data From Table","func":"msg.payload = \"delete from iotdata;\";\n\nreturn msg;","outputs":1,"x":395,"y":1389,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"a426ae2e.2e245","type":"inject","name":"","topic":"","payload":"","payloadType":"none","repeat":"","crontab":"","once":false,"x":143,"y":1388.5,"z":"c47877ed.3b2c88","wires":[["ecc7f9d1.3c4b08"]]},{"id":"97c76947.643048","type":"inject","name":"","topic":"","payload":"select version();","payloadType":"string","repeat":"","crontab":"","once":false,"x":167,"y":1437,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"84eb145f.c5ff28","type":"inject","name":"select count(*) from sensors;","topic":"","payload":"select count(*) from sensor_data;","payloadType":"string","repeat":"","crontab":"","once":false,"x":206,"y":1476,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"97509aa0.8e62b8","type":"inject","name":"select * from sensors;","topic":"","payload":"select * from sensor_data;","payloadType":"string","repeat":"","crontab":"","once":false,"x":184,"y":1515,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"3dff5e3.cac5ca2","type":"inject","name":"create table sensor_data","topic":"","payload":"create table sensor_data (sensorname varchar(30) primary key, location varchar(30), room varchar(30), registerdate varchar(20), comment varchar(100));","payloadType":"string","repeat":"","crontab":"","once":false,"x":192,"y":1553,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"6de519ff.e73818","type":"inject","name":"insert data to sensor_data","topic":"","payload":"insert into sensor_data(sensorname, room, location, registerdate, comment) values('Sensor1','サーバルームA','サーバラック1','2017-07-20','Ti SensorTAG使用、電池新品投入');","payloadType":"string","repeat":"","crontab":"","once":false,"x":196,"y":1592,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"e01ff2cd.8c791","type":"inject","name":"drop table sensor_data;","topic":"","payload":"drop table sensor_data;","payloadType":"string","repeat":"","crontab":"","once":false,"x":189.44445037841797,"y":1629.999942779541,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"823e29dd.b9e948","type":"template","name":"Make SQL","field":"payload","template":"select * from iotdata where sensorname = '{{sensorname}}';","x":404.14288330078125,"y":2078.4286098480225,"z":"19037e02.c3c6a2","wires":[["34403ca3.39dd74"]]},{"id":"4f65bea6.1ac11","type":"function","name":"Payload sensorname collumn","func":"msg.sensorname = msg.payload.sensorname;\nreturn msg;","outputs":1,"x":264.14288330078125,"y":2167.4286098480225,"z":"19037e02.c3c6a2","wires":[["823e29dd.b9e948"]]},{"id":"ec7fc7bf.3e6988","type":"inject","name":"create table iotdata","topic":"","payload":"create table iotdata (sensorname varchar(30), date varchar(20), time varchar(20), timestamp timestamp without time zone, temperature numeric, humidity numeric);","payloadType":"string","repeat":"","crontab":"","once":false,"x":181.44445037841797,"y":1713.5555725097656,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"e0f98e0.8ba627","type":"inject","name":"drop table iotdata;","topic":"","payload":"drop table iotdata;","payloadType":"string","repeat":"","crontab":"","once":false,"x":176.11111450195312,"y":1674.2221698760986,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"3ff261c9.89c5fe","type":"http in","name":"","url":"/api1/v1/sensor_data/all","method":"get","x":169.66665649414062,"y":98.88887786865234,"z":"3bb9a22.a79b65e","wires":[["a61bd715.b0c308"]]},{"id":"a61bd715.b0c308","type":"function","name":"Select * from sensor_data","func":"msg.payload = \"select * from sensor_data order by sensorname;\";\n\nreturn msg;","outputs":1,"x":437.77783203125,"y":99.99993896484375,"z":"3bb9a22.a79b65e","wires":[["273101fd.b1c99e"]]},{"id":"cee3ff4b.5dc36","type":"function","name":"Message Headers","func":"msg.headers = {\n \"Access-Control-Allow-Origin\":\"*\",\n \"Access-Control-Allow-Method\":\"GET,POST,PUT,DELETE,OPTIONS\",\n \"Access-Control-Allow-Headers\":\"Origin, X-Requested-With, Content-Type, Accept\"\n}\nreturn msg;","outputs":1,"x":873.3334121704102,"y":100.00000858306885,"z":"3bb9a22.a79b65e","wires":[["56f66bf9.e178f4","70d32e7b.ce03b"]]},{"id":"273101fd.b1c99e","type":"postgres","postgresdb":"b88098e5.2edd18","name":"postgres","output":true,"outputs":1,"x":697.7778549194336,"y":100.00000858306885,"z":"3bb9a22.a79b65e","wires":[["cee3ff4b.5dc36"]]},{"id":"56f66bf9.e178f4","type":"debug","name":"","active":true,"console":"false","complete":"false","x":1054.444580078125,"y":55.555524826049805,"z":"3bb9a22.a79b65e","wires":[]},{"id":"70d32e7b.ce03b","type":"http response","name":"","x":1040.7779273986816,"y":136.25007247924805,"z":"3bb9a22.a79b65e","wires":[]},{"id":"7ccad0ad.f8245","type":"http in","name":"","url":"/api1/v1/sensor_data/list","method":"get","x":170.11109924316406,"y":201,"z":"3bb9a22.a79b65e","wires":[["4f14977f.fc0368"]]},{"id":"4f14977f.fc0368","type":"function","name":"Payload sensorname collumn","func":"msg.sensorname = msg.payload.sensorname;\nmsg.location = msg.payload.location;\nmsg.room = msg.payload.room;\nmsg.registerdate = msg.payload.registerdate;\nmsg.comment = msg.payload.comment;\nreturn msg;","outputs":1,"x":494.6666564941406,"y":201.11109924316406,"z":"3bb9a22.a79b65e","wires":[["95a26a85.0a0e88"]]},{"id":"95a26a85.0a0e88","type":"template","name":"Make SQL","field":"payload","template":"select * from sensor_data where sensorname = '{{sensorname}}' or location = '{{location}}' or room = '{{room}}' or registerdate = '{{registerdate}}';","x":706.111083984375,"y":200.99996948242188,"z":"3bb9a22.a79b65e","wires":[["273101fd.b1c99e"]]},{"id":"b7bb82d7.891a3","type":"function","name":"Payload sensorname collumn","func":"msg.sensorname = msg.payload.sensorname;\nmsg.location = msg.payload.location;\nmsg.room = msg.payload.room;\nmsg.registerdate = msg.payload.registerdate;\nmsg.comment = msg.payload.comment;\n\nreturn msg;","outputs":1,"x":496.888916015625,"y":289.77777099609375,"z":"3bb9a22.a79b65e","wires":[["79d90931.c48618"]]},{"id":"79d90931.c48618","type":"template","name":"Make SQL","field":"payload","template":"insert into sensor_data(sensorname, location, room, registerdate, comment) values('{{sensorname}}','{{location}}','{{room}}','{{registerdate}}','{{comment}}');","x":710.3333129882812,"y":289.6666259765625,"z":"3bb9a22.a79b65e","wires":[["273101fd.b1c99e"]]},{"id":"ba28a80c.069d78","type":"http in","name":"","url":"/api1/v1/sensor_data/add","method":"get","x":175.6666717529297,"y":288.6666564941406,"z":"3bb9a22.a79b65e","wires":[["b7bb82d7.891a3"]]},{"id":"1b96b53c.bbdabb","type":"debug","name":"","active":false,"console":"false","complete":"false","x":1057.642837524414,"y":691.8928909301758,"z":"19037e02.c3c6a2","wires":[]},{"id":"9883838e.0454b","type":"http in","name":"","url":"/api1/v1/sensor_data/del","method":"get","x":173,"y":378,"z":"3bb9a22.a79b65e","wires":[["54c458ee.6ccd28"]]},{"id":"54c458ee.6ccd28","type":"function","name":"Payload sensorname collumn","func":"msg.sensorname = msg.payload.sensorname;\n\nreturn msg;","outputs":1,"x":499,"y":378,"z":"3bb9a22.a79b65e","wires":[["1adc9ab9.3fd875"]]},{"id":"1adc9ab9.3fd875","type":"template","name":"Make SQL","field":"payload","template":"delete from sensor_data where sensorname = '{{sensorname}}';","x":714,"y":378,"z":"3bb9a22.a79b65e","wires":[["273101fd.b1c99e"]]},{"id":"2274175.9cc58e8","type":"http in","name":"","url":"/api1/v1/sensor_data/update","method":"get","x":187,"y":460,"z":"3bb9a22.a79b65e","wires":[["7986c8e9.5bcea8"]]},{"id":"7986c8e9.5bcea8","type":"function","name":"Payload sensorname collumn","func":"msg.sensorname = msg.payload.sensorname;\nmsg.location = msg.payload.location;\nmsg.room = msg.payload.room;\nmsg.date = msg.payload.registerdate;\nmsg.comment = msg.payload.comment;\n\nreturn msg;","outputs":1,"x":500,"y":461,"z":"3bb9a22.a79b65e","wires":[["1ef6bad4.0cff15"]]},{"id":"1ef6bad4.0cff15","type":"template","name":"Make SQL","field":"payload","template":"update sensor_data set comment = '{{comment}}' where sensorname = '{{sensorname}}'; ","x":713.4443969726562,"y":460.88885498046875,"z":"3bb9a22.a79b65e","wires":[["273101fd.b1c99e"]]},{"id":"9333d3b7.99a44","type":"comment","name":"Select * From Sensor_data","info":"","x":163,"y":61,"z":"3bb9a22.a79b65e","wires":[]},{"id":"b1c01d8c.1b55c","type":"comment","name":"Select * From Sensor_data where XXX","info":"","x":199,"y":165,"z":"3bb9a22.a79b65e","wires":[]},{"id":"e1e09e1.15db96","type":"comment","name":"Insert into sensor_data","info":"","x":151,"y":253,"z":"3bb9a22.a79b65e","wires":[]},{"id":"9f818ef.663ce7","type":"comment","name":"Delete from sensor_data","info":"","x":157,"y":341,"z":"3bb9a22.a79b65e","wires":[]},{"id":"c48281e.f8a2e8","type":"comment","name":"Update sensor_data","info":"","x":144,"y":424,"z":"3bb9a22.a79b65e","wires":[]},{"id":"25f34bbb.e4e4e4","type":"http in","name":"","url":"/sensor_info","method":"get","x":140,"y":108,"z":"2bf7fb7a.29c804","wires":[["6766954e.4ccdec"]]},{"id":"6766954e.4ccdec","type":"template","name":"HTML & Javascript","field":"payload","template":"<!DOCTYPE html>\n<html lang = \"ja\">\n<head>\n\t<meta charset = \"utf-8\">\n\t<title>JavaScript Form Test</title>\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/css/style2.css\">\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/dist/css/tabulator.min.css\">\n\t<script type=\"text/javascript\" src=\"https://www.gstatic.com/charts/loader.js\"></script> \n\t<script type=\"text/javascript\" src=\"https://www.google.com/jsapi\"></script>\n\t<script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-3.2.1.min.js\" integrity=\"sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=\" crossorigin=\"anonymous\"></script>\n\t<script type=\"text/javascript\" src=\"https://code.jquery.com/ui/1.12.1/jquery-ui.min.js\" integrity=\"sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=\" crossorigin=\"anonymous\"></script> \n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/fancytree/dist/jquery.fancytree-all.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/dist/js/tabulator.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/script/kousin.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/script/date-time-week.js\"></script>\n</head>\n<body>\n<h1>センサー管理メニュー</h1>\n<br><br>\n\n<p>■ 設置センサー 一覧 ■</p>\n\n<br>\n<div id=\"example-table\" style=\"width: 60%;\"></div>\n<br>\n<form>\n<input type=\"button\"  value=\"センサー一覧更新\" onclick=\"koshin()\">\n</form>\n</br>\n\n<!--\n<p>■ センサー 検索 ■</p>\n<br>\n<form action=\"/api1/v1/sensor_data/list\" method=\"GET\">\n<p>Sensor Name：<input type=\"text\" name=\"sensorname\" value=\"\" size=\"20\" /></p></br>\n<p>Location：<input type=\"text\" name=\"location\" value=\"\" size=\"20\" /></p></br>\n<p>Room Name：<input type=\"text\" name=\"room\" value=\"\" size=\"20\" /></p></br>\n<p>Register Date：<input type=\"text\" name=\"registerdate\" value=\"\" size=\"20\" /></p></br>\n<p><input type=\"submit\" name=\"submit\" value=\"検索\" /></p>\n</form>\n<br><br>\n-->\n\n<!-- センサー検索画面を開く -->\n<br>\n<form>\n<input type=\"button\" value=\"センサー検索\" onclick=\"winOpen1()\">\n</form>\n<br>\n\n<!--\n<p>■ センサー 追加 ■</p>\n<br>\n<form action=\"/api1/v1/sensor_data/add\" method=\"GET\">\n<p>Sensor Name：<input type=\"text\" name=\"sensorname\" value=\"\" size=\"20\" /></p></br>\n<p>Location：<input type=\"text\" name=\"location\" value=\"\" size=\"20\" /></p></br>\n<p>Room Name：<input type=\"text\" name=\"room\" value=\"\" size=\"20\" /></p></br>\n<p>Register Date：<input type=\"text\" name=\"date\" value=\"\" size=\"20\" /></p></br>\n<p>Comment：<input type=\"text\" name=\"comment\" value=\"\" size=\"50\" /></p></br>\n<p><input type=\"submit\" name=\"submit\" value=\"追加\" /></p>\n</form>\n<br><br>\n-->\n\n<!-- センサー追加画面を開く -->\n<br>\n<form>\n<input type=\"button\" value=\"センサー追加\" onclick=\"winOpen2()\">\n</form>\n<br>\n\n<!--\n<p>■ センサー 情報更新 ■</p>\n<br>\n<form action=\"/api1/v1/sensor_data/update\" method=\"GET\">\n<p>Sensor Name：<input type=\"text\" name=\"sensorname\" value=\"\" size=\"20\" /></p></br>\n<p>Comment：<input type=\"text\" name=\"comment\" value=\"\" size=\"50\" /></p></br>\n<p><input type=\"submit\" name=\"submit\" value=\"更新\" /></p>\n</form>\n<br><br>\n-->\n\n<!-- センサー情報更新画面を開く -->\n<br>\n<form>\n<input type=\"button\" value=\"センサー情報更新\" onclick=\"winOpen3()\">\n</form>\n<br>\n\n<!--\n<p>■ センサー 削除 ■</p>\n<br>\n<form action=\"/api1/v1/sensor_data/del\" method=\"GET\">\n<p>Sensor Name：<input type=\"text\" name=\"sensorname\" value=\"\" size=\"20\" /></p></br>\n<p><input type=\"submit\" name=\"submit\" value=\"削除\" /></p>\n</form>\n<br><br>\n-->\n\n<!-- センサー削除画面を開く -->\n<br>\n<form>\n<input type=\"button\" value=\"センサー削除\" onclick=\"winOpen4()\">\n</form>\n<br>\n\n<!-- ブラウザ前画面に戻る、更新ボタン -->\n<form>\n<input type=\"button\"  value=\"戻る\" onclick=\"modoru()\">\n<input type=\"button\"  value=\"更新\" onclick=\"koshin()\">\n</form>\n\n<script>\n\nfunction modoru(){\n  history.back();\n}\n\nfunction koshin(){\n  location.reload();\n}\n\nfunction winOpen1(){\nwindow.open(\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/search_sensor\",\"sub\",\"width=640,height=480,top=100,left=100\");\n}\n\nfunction winOpen2(){\nwindow.open(\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/add_sensor\",\"sub\",\"width=640,height=480,top=100,left=100\");\n}\n\nfunction winOpen3(){\nwindow.open(\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/update_sensor\",\"sub\",\"width=640,height=480,top=100,left=100\");\n}\n\nfunction winOpen4(){\nwindow.open(\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/delete_sensor\",\"sub\",\"width=640,height=480,top=100,left=100\");\n}\n\n//koshin();\ndatetimeweek();\n\n$(\"#example-table\").tabulator({\n\tcolumns:[\n\t\t{title:\"SensorName\", field:\"sensorname\", sortable:true, width:100},\n\t\t{title:\"Room\", field:\"room\", sortable:true, sorter:\"string\", width:200},\n\t\t{title:\"Location\", field:\"location\", sortable:true, sorter:\"string\", width:200},\n\t\t{title:\"Registration Date\", field:\"registerdate\", sortable:true, width:150},\n\t\t{title:\"Comment\", field:\"comment\", sortable:false, width:500},\n\t],\n});\n\n$(\"#example-table\").tabulator(\"setData\", \"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/api1/v1/sensor_data/all\");\n\n$(window).resize(function(){\n\t$(\"#example-table\").tabulator(\"redraw\");\n});\n\n</script>\n\n</body>\n</html>","x":360,"y":108,"z":"2bf7fb7a.29c804","wires":[["72394953.8c4588"]]},{"id":"72394953.8c4588","type":"http response","name":"","x":651,"y":109,"z":"2bf7fb7a.29c804","wires":[]},{"id":"b48d3c68.5f1df","type":"comment","name":"センサー情報管理","info":"","x":142,"y":69,"z":"2bf7fb7a.29c804","wires":[]},{"id":"9c921b4e.502258","type":"http in","name":"","url":"/search_sensor","method":"get","x":152,"y":228,"z":"2bf7fb7a.29c804","wires":[["dca63426.61c038"]]},{"id":"dca63426.61c038","type":"template","name":"HTML + Javascript","field":"payload","template":"<!DOCTYPE html>\n<html lang = \"ja\">\n<head>\n\t<meta charset = \"utf-8\">\n\t<title>Sensor Search</title>\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/css/style2.css\">\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/dist/css/tabulator.min.css\">\n\t<script type=\"text/javascript\" src=\"https://www.gstatic.com/charts/loader.js\"></script> \n\t<script type=\"text/javascript\" src=\"https://www.google.com/jsapi\"></script>\n\t<script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-3.2.1.min.js\" integrity=\"sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=\" crossorigin=\"anonymous\"></script>\n\t<script type=\"text/javascript\" src=\"https://code.jquery.com/ui/1.12.1/jquery-ui.min.js\" integrity=\"sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=\" crossorigin=\"anonymous\"></script> \n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/fancytree/dist/jquery.fancytree-all.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/dist/js/tabulator.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/script/kousin.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/script/date-time-week.js\"></script>\n</head>\n<body>\n\n<h1>センサー検索</h1>\n<br><br>\n<form action=\"/api1/v1/sensor_data/list\" method=\"GET\">\n<p>Sensor Name：<input type=\"text\" name=\"sensorname\" value=\"\" size=\"20\" /></p></br>\n<p>Location：<input type=\"text\" name=\"location\" value=\"\" size=\"20\" /></p></br>\n<p>Room Name：<input type=\"text\" name=\"room\" value=\"\" size=\"20\" /></p></br>\n<p>Register Date：<input type=\"text\" name=\"registerdate\" value=\"\" size=\"20\" /></p></br>\n<p><input type=\"submit\" name=\"submit\" value=\"検索\" /></p>\n</form>\n<br>\n\n<!--\n<br>\n<div id=\"search-table\" style=\"width: 100%;\"></div>\n<br>\n-->\n\n<p><input type=\"submit\" onClick=\"window.close();\" value=\"閉じる\" /></p>\n\n<script>\n\n$(\"#search-table\").tabulator({\n\tcolumns:[\n\t\t{title:\"SensorName\", field:\"sensorname\", sortable:true, width:100},\n\t\t{title:\"Room\", field:\"room\", sortable:true, sorter:\"string\", width:200},\n\t\t{title:\"Location\", field:\"location\", sortable:true, sorter:\"string\", width:200},\n\t\t{title:\"Registration Date\", field:\"registerdate\", sortable:true, width:150},\n\t\t{title:\"Comment\", field:\"comment\", sortable:false, width:500},\n\t],\n});\n\n$(\"#search-table\").tabulator(\"setData\", \"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/api1/v1/sensor_data/list?\");\n\n$(window).resize(function(){\n\t$(\"#search-table\").tabulator(\"redraw\");\n});\n\n</script>\n\n\n</body>\n</html>","x":362,"y":228,"z":"2bf7fb7a.29c804","wires":[["72394953.8c4588"]]},{"id":"28f50a15.7f3416","type":"template","name":"HTML + Javascript","field":"payload","template":"<!DOCTYPE html>\n<html lang = \"ja\">\n<head>\n\t<meta charset = \"utf-8\">\n\t<title>JavaScript Form Test</title>\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/css/style2.css\">\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/dist/css/tabulator.min.css\">\n\t<script type=\"text/javascript\" src=\"https://www.gstatic.com/charts/loader.js\"></script> \n\t<script type=\"text/javascript\" src=\"https://www.google.com/jsapi\"></script>\n\t<script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-3.2.1.min.js\" integrity=\"sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=\" crossorigin=\"anonymous\"></script>\n\t<script type=\"text/javascript\" src=\"https://code.jquery.com/ui/1.12.1/jquery-ui.min.js\" integrity=\"sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=\" crossorigin=\"anonymous\"></script> \n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/fancytree/dist/jquery.fancytree-all.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/dist/js/tabulator.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/script/kousin.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/script/date-time-week.js\"></script>\n</head>\n<body>\n\n<h1>■ センサー追加 ■</h1>\n<br>\n<form action=\"/api1/v1/sensor_data/add\" method=\"GET\">\n<p>Sensor Name：<input type=\"text\" name=\"sensorname\" value=\"\" size=\"20\" /></p></br>\n<p>Location：<input type=\"text\" name=\"location\" value=\"\" size=\"20\" /></p></br>\n<p>Room Name：<input type=\"text\" name=\"room\" value=\"\" size=\"20\" /></p></br>\n<p>Register Date：<input type=\"text\" name=\"registerdate\" value=\"\" size=\"20\" /></p></br>\n<p>Comment：<input type=\"text\" name=\"comment\" value=\"\" size=\"50\" /></p></br>\n<p><input type=\"submit\" name=\"submit\" value=\"追加\" /></p>\n</form>\n\n<br>\n<p><input type=\"submit\" onClick=\"window.close();\" value=\"閉じる\" /></p>\n\n</body>\n</html>","x":364,"y":306,"z":"2bf7fb7a.29c804","wires":[["72394953.8c4588"]]},{"id":"45081bf2.17a284","type":"http in","name":"","url":"/add_sensor","method":"get","x":145,"y":305,"z":"2bf7fb7a.29c804","wires":[["28f50a15.7f3416"]]},{"id":"611af67f.fcedf8","type":"http in","name":"","url":"/update_sensor","method":"get","x":156,"y":380,"z":"2bf7fb7a.29c804","wires":[["de264d7e.67cd5"]]},{"id":"de264d7e.67cd5","type":"template","name":"HTML + Javascript","field":"payload","template":"<!DOCTYPE html>\n<html lang = \"ja\">\n<head>\n\t<meta charset = \"utf-8\">\n\t<title>JavaScript Form Test</title>\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/css/style2.css\">\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/dist/css/tabulator.min.css\">\n\t<script type=\"text/javascript\" src=\"https://www.gstatic.com/charts/loader.js\"></script> \n\t<script type=\"text/javascript\" src=\"https://www.google.com/jsapi\"></script>\n\t<script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-3.2.1.min.js\" integrity=\"sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=\" crossorigin=\"anonymous\"></script>\n\t<script type=\"text/javascript\" src=\"https://code.jquery.com/ui/1.12.1/jquery-ui.min.js\" integrity=\"sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=\" crossorigin=\"anonymous\"></script> \n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/fancytree/dist/jquery.fancytree-all.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/dist/js/tabulator.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/script/kousin.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/script/date-time-week.js\"></script>\n</head>\n<body>\n\n<h1>■ センサー 情報更新 ■</h1>\n<br>\n<form action=\"/api1/v1/sensor_data/update\" method=\"GET\">\n<p>Sensor Name：<input type=\"text\" name=\"sensorname\" value=\"\" size=\"20\" /></p></br>\n<p>Comment：<input type=\"text\" name=\"comment\" value=\"\" size=\"50\" /></p></br>\n<p><input type=\"submit\" name=\"submit\" value=\"更新\" /></p>\n</form>\n\n<br>\n<p><input type=\"submit\" onClick=\"window.close();\" value=\"閉じる\" /></p>\n\n</body>\n</html>","x":363,"y":375,"z":"2bf7fb7a.29c804","wires":[["72394953.8c4588"]]},{"id":"89d4a9a2.7b9b78","type":"http in","name":"","url":"/delete_sensor","method":"get","x":153,"y":452,"z":"2bf7fb7a.29c804","wires":[["ca1f17f7.5bb698"]]},{"id":"ca1f17f7.5bb698","type":"template","name":"HTML + Javascript","field":"payload","template":"<!DOCTYPE html>\n<html lang = \"ja\">\n<head>\n\t<meta charset = \"utf-8\">\n\t<title>JavaScript Form Test</title>\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/css/style2.css\">\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/dist/css/tabulator.min.css\">\n\t<script type=\"text/javascript\" src=\"https://www.gstatic.com/charts/loader.js\"></script> \n\t<script type=\"text/javascript\" src=\"https://www.google.com/jsapi\"></script>\n\t<script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-3.2.1.min.js\" integrity=\"sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=\" crossorigin=\"anonymous\"></script>\n\t<script type=\"text/javascript\" src=\"https://code.jquery.com/ui/1.12.1/jquery-ui.min.js\" integrity=\"sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=\" crossorigin=\"anonymous\"></script> \n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/fancytree/dist/jquery.fancytree-all.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/dist/js/tabulator.min.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/script/kousin.js\"></script>\n\t<script type=\"text/javascript\" src=\"https://h2lnoavy-ncwpzaor.jp-east-1.cf-app.net/script/date-time-week.js\"></script>\n</head>\n<body>\n\n<h1>■ センサー 削除 ■</h1>\n<br>\n<form action=\"/api1/v1/sensor_data/del\" method=\"GET\">\n<p>Sensor Name：<input type=\"text\" name=\"sensorname\" value=\"\" size=\"20\" /></p></br>\n<p><input type=\"submit\" name=\"submit\" value=\"削除\" /></p>\n</form>\n\n<br>\n<p><input type=\"submit\" onClick=\"window.close();\" value=\"閉じる\" /></p>\n\n</body>\n</html>","x":368,"y":449,"z":"2bf7fb7a.29c804","wires":[["72394953.8c4588"]]},{"id":"921e3c5c.2596d","type":"mqtt in","name":"Sensor-SD001","topic":"testcode2/v1/ITP314-001/DTC/SD001","broker":"11917135.5de19f","x":94.642822265625,"y":588.1428833007812,"z":"19037e02.c3c6a2","wires":[["34480a65.881346"]]},{"id":"5581d79.5579528","type":"mqtt in","name":"Sensor-SD002","topic":"testcode2/v1/ITP314-001/DTC/SD002","broker":"11917135.5de19f","x":93.642822265625,"y":635.1428833007812,"z":"19037e02.c3c6a2","wires":[["34480a65.881346"]]},{"id":"ea247574.f267b8","type":"mqtt in","name":"Sensor-SD003","topic":"testcode2/v1/ITP314-001/DTC/SD003","broker":"11917135.5de19f","x":94.642822265625,"y":684.1428833007812,"z":"19037e02.c3c6a2","wires":[["34480a65.881346"]]},{"id":"88174f47.a6c81","type":"mqtt in","name":"Sensor-SD004","topic":"testcode2/v1/ITP314-001/DTC/SD004","broker":"11917135.5de19f","x":93.642822265625,"y":730.1428833007812,"z":"19037e02.c3c6a2","wires":[["34480a65.881346"]]},{"id":"a6c8e1cf.6fed1","type":"mqtt out","name":"Sensor-SD001","topic":"testcode2/v1/ITP314-001/DTC/SD001","qos":"1","retain":"","broker":"11917135.5de19f","x":877,"y":65,"z":"19037e02.c3c6a2","wires":[]},{"id":"52e0e70b.9b5a08","type":"mqtt out","name":"Sensor-SD002","topic":"testcode2/v1/ITP314-001/DTC/SD002","qos":"1","retain":"","broker":"11917135.5de19f","x":878,"y":112,"z":"19037e02.c3c6a2","wires":[]},{"id":"ef936a7a.8bf288","type":"mqtt out","name":"Sensor-SD003","topic":"testcode2/v1/ITP314-001/DTC/SD003","qos":"1","retain":"","broker":"11917135.5de19f","x":880,"y":160,"z":"19037e02.c3c6a2","wires":[]},{"id":"60828a7b.881084","type":"mqtt out","name":"Sensor-SD004","topic":"testcode2/v1/ITP314-001/DTC/SD004","qos":"1","retain":"","broker":"11917135.5de19f","x":881,"y":208,"z":"19037e02.c3c6a2","wires":[]},{"id":"15a3de2f.3a8ee2","type":"inject","name":"select current_timestamp","topic":"","payload":"select current_timestamp","payloadType":"string","repeat":"","crontab":"","once":false,"x":762,"y":1173,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"f8e4e48a.594818","type":"inject","name":"select now();","topic":"","payload":"select now();","payloadType":"string","repeat":"","crontab":"","once":false,"x":723,"y":1232,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"aabefc6e.3ad15","type":"inject","name":"show timezone;","topic":"","payload":"show timezone;","payloadType":"string","repeat":"","crontab":"","once":false,"x":726,"y":1292,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"abbbc608.b5ca98","type":"inject","name":"select sensorname,max(timestamp) from iotdata group by sensorname; ","topic":"","payload":"select sensorname,max(timestamp) from iotdata group by sensorname; ","payloadType":"string","repeat":"","crontab":"","once":false,"x":848,"y":1344,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"77108310.0bddec","type":"inject","name":"select max(timestamp) inner join","topic":"","payload":"select iotdataA.sensorname,iotdataA.timestamp,iotdataA.temperature,iotdataA.humidity from iotdata as iotdataA inner join (select sensorname,max(timestamp) as maxtime from iotdata group by sensorname) as iotdataB on iotdataA.sensorname = iotdataB.sensorname and iotdataA.timestamp = iotdataB.maxtime;","payloadType":"string","repeat":"","crontab":"","once":false,"x":729,"y":1380,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"42c59a9.91a4264","type":"template","name":"Make SQL","field":"payload","template":"select iotdataA.sensorname,iotdataA.timestamp,iotdataA.date,iotdataA.time,iotdataA.temperature,iotdataA.humidity from iotdata as iotdataA inner join (select sensorname,max(timestamp) as maxtime from iotdata group by sensorname) as iotdataB on iotdataA.sensorname = iotdataB.sensorname and iotdataA.timestamp = iotdataB.maxtime;","x":444,"y":539,"z":"3bb9a22.a79b65e","wires":[["273101fd.b1c99e"]]},{"id":"718c1831.865c48","type":"http in","name":"","url":"/api/v1/sensor_lasttime","method":"get","x":172,"y":539,"z":"3bb9a22.a79b65e","wires":[["42c59a9.91a4264"]]},{"id":"c35c04a7.e21cd8","type":"inject","name":"select Join database","topic":"","payload":"select iotdataA.sensorname,iotdataA.timestamp,iotdataA.date,iotdataA.time,iotdataA.temperature,iotdataA.humidity from iotdata as iotdataA inner join (select sensorname,max(timestamp) as maxtime from iotdata group by sensorname) as iotdataB on iotdataA.sensorname = iotdataB.sensorname and iotdataA.timestamp = iotdataB.maxtime;","payloadType":"string","repeat":"","crontab":"","once":false,"x":693,"y":1416,"z":"c47877ed.3b2c88","wires":[["9f2e45b0.9f4d08"]]},{"id":"ed2eb0db.e7ed4","type":"comment","name":"Last data from iotdata Table order by Sensorname","info":"","x":241,"y":503,"z":"3bb9a22.a79b65e","wires":[]},{"id":"e684e483.50ee58","type":"function","name":"Create dummy rundom data for Sensor9","func":"var getTimestamp = function () {\n    var date = new Date();\n    date.setHours(date.getHours() + 9);\n    var dt = date.getFullYear() + '-';\n    dt += (\"0\"+(date.getMonth()+1)).slice(-2) + '-';\n    dt += (\"0\"+date.getDate()).slice(-2) + 'T';\n    dt += (\"0\"+date.getHours()).slice(-2) + ':';\n    dt += (\"0\"+date.getMinutes()).slice(-2) + ':';\n    dt += (\"0\"+date.getSeconds()).slice(-2) + '+09:00';\n    return dt;\n}\n\nvar getTimestampD = function () {\nvar date = new Date();\ndate.setHours(date.getHours() + 9);\n\nvar ts = date.getFullYear() + '-';\nts += (\"0\"+(date.getMonth()+1)).slice(-2) + '-';\nts += (\"0\"+date.getDate()).slice(-2);\n\nreturn ts;\n};\n\nvar getTimestampT = function () {\nvar hour = new Date();\nhour.setHours(hour.getHours() +9);\n\nvar hr = (\"0\"+hour.getHours()).slice(-2) + ':';\nhr += (\"0\"+hour.getMinutes()).slice(-2) + ':';\nhr += (\"0\"+hour.getSeconds()).slice(-2);\n\nreturn hr;\n};\n\n// Object of SensorName\nvar name1 = \"Sensor9\";\n\n// Object of place\nvar location1 = \"ServerRack9\"\n\n\nmsg.payload={\n    \"sensorname\": name1,\n//    \"location\": location1,\n    \"date\": getTimestampD(),\n    \"time\": getTimestampT(),\n    \"timestamp\": getTimestamp(),\n    \"temperature\": Math.floor((Math.random() * 9 + 20)*100)/100 ,\n    \"humidity\": Math.floor(( Math.random() * 15 + 40)*100)/100\n};\nreturn msg;","outputs":1,"x":384,"y":358,"z":"19037e02.c3c6a2","wires":[["85e572df.d81d9","17c1c778.cf9379"]]},{"id":"7709412b.4aabf","type":"function","name":"Create dummy rundom data for Sensor10","func":"var getTimestamp = function () {\n    var date = new Date();\n    date.setHours(date.getHours() + 9);\n    var dt = date.getFullYear() + '-';\n    dt += (\"0\"+(date.getMonth()+1)).slice(-2) + '-';\n    dt += (\"0\"+date.getDate()).slice(-2) + 'T';\n    dt += (\"0\"+date.getHours()).slice(-2) + ':';\n    dt += (\"0\"+date.getMinutes()).slice(-2) + ':';\n    dt += (\"0\"+date.getSeconds()).slice(-2) + '+09:00';\n    return dt;\n}\n\nvar getTimestampD = function () {\nvar date = new Date();\ndate.setHours(date.getHours() + 9);\n\nvar ts = date.getFullYear() + '-';\nts += (\"0\"+(date.getMonth()+1)).slice(-2) + '-';\nts += (\"0\"+date.getDate()).slice(-2);\n\nreturn ts;\n};\n\nvar getTimestampT = function () {\nvar hour = new Date();\nhour.setHours(hour.getHours() +9);\n\nvar hr = (\"0\"+hour.getHours()).slice(-2) + ':';\nhr += (\"0\"+hour.getMinutes()).slice(-2) + ':';\nhr += (\"0\"+hour.getSeconds()).slice(-2);\n\nreturn hr;\n};\n\n// Object of SensorName\nvar name1 = \"Sensor10\";\n\n// Object of place\nvar location1 = \"ServerRack10\"\n\n\nmsg.payload={\n    \"sensorname\": name1,\n//    \"location\": location1,\n    \"date\": getTimestampD(),\n    \"time\": getTimestampT(),\n    \"timestamp\": getTimestamp(),\n    \"temperature\": Math.floor((Math.random() * 9 + 20)*100)/100 ,\n    \"humidity\": Math.floor(( Math.random() * 15 + 40)*100)/100\n};\nreturn msg;","outputs":1,"x":388,"y":394,"z":"19037e02.c3c6a2","wires":[["85e572df.d81d9","17c1c778.cf9379"]]},{"id":"bdd8a5de.53fe18","type":"function","name":"Sensor9 Temp Payload","func":"return {payload:msg.payload.temperature};","outputs":1,"x":750.214241027832,"y":1601.142840385437,"z":"19037e02.c3c6a2","wires":[["360da377.ffba9c","1133a7b4.c55428","1a7b2caf.989ad3","60c62657.340298"]]},{"id":"13ee185c.9ba648","type":"function","name":"Sensor10 Temp Payload","func":"return {payload:msg.payload.temperature};","outputs":1,"x":756.1586380004883,"y":1640.865008354187,"z":"19037e02.c3c6a2","wires":[["9f838b22.f0a048","9214e107.e1b84","8d5ce252.a6e07","b16d7469.938da8"]]},{"id":"92553aad.1d1058","type":"function","name":"Sensor9 Humid Payload","func":"return {payload:msg.payload.humidity};","outputs":1,"x":756.7697830200195,"y":1680.2262144088745,"z":"19037e02.c3c6a2","wires":[["7a23f97.5024308","582870b2.0f9fd","b16aa0ce.f99b6","b695824c.99cbf"]]},{"id":"6c880fdd.e6b53","type":"function","name":"Sensor10 Humid Payload","func":"return {payload:msg.payload.humidity};","outputs":1,"x":761.4641799926758,"y":1719.6983823776245,"z":"19037e02.c3c6a2","wires":[["acd828d1.c34dc8","214a0764.a1a2a8","10144131.cc21cf","3e3160f.f6915a"]]},{"id":"7a23f97.5024308","type":"ui_chart","tab":"aecdcf58.fb5c9","name":"Sensor9 Humidity 1 hour","group":"sensor9 Status","order":"2","interpolate":"linear","nodata":"No Data","removeOlder":1,"removeOlderUnit":"3600","x":1517.5,"y":2180,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"582870b2.0f9fd","type":"ui_chart","tab":"a26c4963.778498","name":"Sensor9 Humidity 12 hours","group":"sensor9 Humidity","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"12","removeOlderUnit":"3600","x":1526.5,"y":2218.0000009536743,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"b16aa0ce.f99b6","type":"ui_chart","tab":"b2251b3a.e88bc8","name":"Sensor9 Humidity 1week","group":"sensor9 Humidity","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"1","removeOlderUnit":"604800","x":1519.5,"y":2257.0000009536743,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"b695824c.99cbf","type":"ui_gauge","tab":"aecdcf58.fb5c9","name":"Sensor9 Realtime Humidity Gauge","group":"sensor9 Status","order":1,"format":"{{value}}%","min":"40","max":"55","x":1547.7500228881836,"y":2144.7500343322754,"z":"19037e02.c3c6a2","wires":[]},{"id":"acd828d1.c34dc8","type":"ui_chart","tab":"aecdcf58.fb5c9","name":"Sensor10 Humidity 1 hour","group":"sensor10 Status","order":"2","interpolate":"linear","nodata":"No Data","removeOlder":1,"removeOlderUnit":"3600","x":1521.5,"y":2334.000002861023,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"214a0764.a1a2a8","type":"ui_chart","tab":"a26c4963.778498","name":"Sensor10 Humidity 12 hours","group":"sensor10 Humidity","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"12","removeOlderUnit":"3600","x":1529.2499923706055,"y":2372.000002861023,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"10144131.cc21cf","type":"ui_chart","tab":"b2251b3a.e88bc8","name":"Sensor10 Humidity 1week","group":"sensor10 Humidity","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"1","removeOlderUnit":"604800","x":1520.75,"y":2410.0000047683716,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"3e3160f.f6915a","type":"ui_gauge","tab":"aecdcf58.fb5c9","name":"Sensor10 Realtime Humidity Gauge","group":"sensor10 Status","order":1,"format":"{{value}}%","min":"40","max":"55","x":1552.5000228881836,"y":2295.500036239624,"z":"19037e02.c3c6a2","wires":[]},{"id":"360da377.ffba9c","type":"ui_chart","tab":"a7aa3c6e.2da45","name":"Sensor9 Temperature 1 hour","group":"sensor9 Status","order":"2","interpolate":"linear","nodata":"No Data","removeOlder":1,"removeOlderUnit":"3600","x":1220,"y":2178.75,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"60c62657.340298","type":"ui_gauge","tab":"a7aa3c6e.2da45","name":"Sensor9 Realtime Temp Gauge","group":"sensor9 Status","order":1,"format":"{{value}}℃","min":"20","max":"30","x":1226.5,"y":2142.5,"z":"19037e02.c3c6a2","wires":[]},{"id":"1133a7b4.c55428","type":"ui_chart","tab":"a09df126.e15a5","name":"Sensor9 Temperature 12 hours","group":"sensor9 Temperature","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"12","removeOlderUnit":"3600","x":1229,"y":2216.75,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"1a7b2caf.989ad3","type":"ui_chart","tab":"3d5dc16c.f5300e","name":"Sensor9 Temperature 1week","group":"sensor9 Temperature","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"1","removeOlderUnit":"604800","x":1222,"y":2255.75,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"9f838b22.f0a048","type":"ui_chart","tab":"a7aa3c6e.2da45","name":"Sensor10 Temperature 1 hour","group":"sensor10 Status","order":"2","interpolate":"linear","nodata":"No Data","removeOlder":1,"removeOlderUnit":"3600","x":1224,"y":2332.75,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"b16d7469.938da8","type":"ui_gauge","tab":"a7aa3c6e.2da45","name":"Sensor10 Realtime Temp Gauge","group":"sensor10 Status","order":1,"format":"{{value}}℃","min":"20","max":"30","x":1231.5,"y":2294.75,"z":"19037e02.c3c6a2","wires":[]},{"id":"9214e107.e1b84","type":"ui_chart","tab":"a09df126.e15a5","name":"Sensor10 Temperature 12 hours","group":"sensor10 Temperature","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"12","removeOlderUnit":"3600","x":1233,"y":2370.75,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"8d5ce252.a6e07","type":"ui_chart","tab":"3d5dc16c.f5300e","name":"Sensor10 Temperature 1week","group":"sensor10 Temperature","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":"1","removeOlderUnit":"604800","x":1227,"y":2408.75,"z":"19037e02.c3c6a2","wires":[[],[]]},{"id":"75a4e8fd.4a5218","type":"comment","name":"Node-RED Dashboard-UI","info":"","x":1176.000015258789,"y":892.7500133514404,"z":"19037e02.c3c6a2","wires":[]},{"id":"7749251b.81aacc","type":"ui_gauge","tab":"bf6e252b.63b8c8","name":"Temp Gauge","group":"Sensor1 Temperature","order":1,"format":"{{value}}℃","min":"20","max":"30","x":1117.5,"y":806.25,"z":"19037e02.c3c6a2","wires":[]},{"id":"8eaca509.1a76d8","type":"ui_chart","tab":"bf6e252b.63b8c8","name":"Temp Line Chart","group":"Sensor1 Temperature","order":1,"interpolate":"linear","nodata":"No Data","removeOlder":1,"removeOlderUnit":"3600","x":1132.5,"y":852.5,"z":"19037e02.c3c6a2","wires":[[],[]]}]
